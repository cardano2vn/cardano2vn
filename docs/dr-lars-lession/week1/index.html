<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cardano2vn Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cardano2vn Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-NYJGVMHGCD","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NYJGVMHGCD"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NYJGVMHGCD",{anonymize_ip:!0})</script><title data-react-helmet="true">Week 01 - English Auction | Cardano2vn</title><meta data-react-helmet="true" property="og:url" content="https://cardano2vn.io/docs/dr-lars-lession/week1"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Week 01 - English Auction | Cardano2vn"><meta data-react-helmet="true" name="description" content="ÄÃ¢y lÃ  phiÃªn báº£n báº±ng vÄƒn báº£n cá»§a [Lecture \#1 -"><meta data-react-helmet="true" property="og:description" content="ÄÃ¢y lÃ  phiÃªn báº£n báº±ng vÄƒn báº£n cá»§a [Lecture \#1 -"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo/2.png"><link data-react-helmet="true" rel="canonical" href="https://cardano2vn.io/docs/dr-lars-lession/week1"><link data-react-helmet="true" rel="alternate" href="https://cardano2vn.io/docs/dr-lars-lession/week1" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cardano2vn.io/docs/dr-lars-lession/week1" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8b54419c.css">
<link rel="preload" href="/assets/js/runtime~main.1a53d0b2.js" as="script">
<link rel="preload" href="/assets/js/main.5303ff7a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo/2.png" alt="Cardano2vn Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo/2.png" alt="Cardano2vn Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Cardano2vn</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/getting-started/overview">Báº¯t Ä‘áº§u</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cardano2vn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo/2.png" alt="Cardano2vn Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo/2.png" alt="Cardano2vn Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Cardano2vn</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/getting-started/overview">Báº¯t Ä‘áº§u</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/cardano2vn" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/overview">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Táº¡o Há»£p Ä‘á»“ng thÃ´ng minh</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/smart-contracts/overview">Tá»•ng quan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/smart-contracts/marlowe">NgÃ´n ngá»¯ Marlowe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/smart-contracts/plutus">NgÃ´n ngá»¯ Plutus</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TÃ­ch há»£p vá»›i Cardano</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/integrate-cardano/note">Note</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Váº­n hÃ nh má»™t Stake Pool</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/operate-a-stake-pool/note">Note</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">KhoÃ¡ Ä‘Ã o táº¡o Plutus cá»§a Dr. Lars</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dr-lars-lession/overview">Plutus Pioneer Program</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dr-lars-lession/week1">Week 01 - English Auction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dr-lars-lession/week2">Week 02 - Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dr-lars-lession/week3">Week 03 - Script Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dr-lars-lession/week4">Week 04 - Monads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dr-lars-lession/week5">Week 05 - Native Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dr-lars-lession/week6">Week 06 - Oracles</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Week 01 - English Auction</h1></header><div class="markdown"><p>ÄÃ¢y lÃ  phiÃªn báº£n báº±ng vÄƒn báº£n cá»§a <a href="https://youtu.be/CJD8ctJqDw0" target="_blank" rel="noopener noreferrer">Lecture #1 -
Dr.Lars</a>.</p><p>NÃ³ bao gá»“m pháº§n giá»›i thiá»‡u vá» Plutus, mÃ´ hÃ¬nh (E) UTxO (vÃ  cÃ¡ch nÃ³ so
sÃ¡nh vá»›i cÃ¡c mÃ´ hÃ¬nh khÃ¡c) vÃ  káº¿t thÃºc báº±ng má»™t phiÃªn Ä‘áº¥u giÃ¡ báº±ng tiáº¿ng
Anh vÃ­ dá»¥ Ä‘Æ°á»£c quáº£n lÃ½ báº±ng há»£p Ä‘á»“ng thÃ´ng minh Plutus cháº¡y trÃªn Plutus
Playground.</p><p>CÃ¡c ghi chÃº nÃ y Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t Ä‘á»ƒ pháº£n Ã¡nh nhá»¯ng thay Ä‘á»•i trong láº§n
láº·p hai cá»§a chÆ°Æ¡ng trÃ¬nh.</p><p>Cam káº¿t Plutus Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c ghi chÃº nÃ y lÃ 
ea0ca4e9f9821a9dbfc5255fa0f42b6f2b3887c4.
:::</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="welcome"></a>Welcome<a class="hash-link" href="#welcome" title="Direct link to heading">#</a></h2><p>Há»c Plutus khÃ´ng dá»… dÃ ng, vÃ  cÃ³ má»™t sá»‘ lÃ½ do cho Ä‘iá»u Ä‘Ã³.</p><ol><li>Plutus sá»­ dá»¥ng mÃ´ hÃ¬nh (E) UTxO. Äiá»u nÃ y khÃ¡c vÃ  Ã­t trá»±c quan hÆ¡n
so vá»›i phÆ°Æ¡ng phÃ¡p Ethereum Ä‘á»ƒ táº¡o há»£p Ä‘á»“ng thÃ´ng minh. NÃ³ cÃ³ ráº¥t
nhiá»u lá»£i tháº¿, nhÆ°ng nÃ³ Ä‘Ã²i há»i má»™t cÃ¡ch suy nghÄ© má»›i vá» há»£p Ä‘á»“ng.
VÃ  Ä‘Ã³ lÃ  trÆ°á»›c khi chÃºng ta báº¯t Ä‘áº§u vá»›i chÃ­nh ngÃ´n ngá»¯.</li><li>Plutus lÃ  má»›i vÃ  váº«n Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn nhanh chÃ³ng.</li><li>Dá»¥ng cá»¥ váº«n chÆ°a pháº£i lÃ  lÃ½ tÆ°á»Ÿng. VÃ¬ váº­y, cÃ¡c nhÃ  phÃ¡t triá»ƒn
Haskell cÃ³ kinh nghiá»‡m sáº½ lÆ°u Ã½ ráº±ng tráº£i nghiá»‡m vá»›i Plutus khÃ´ng dá»…
chá»‹u, vÃ¬ vÃ­ dá»¥, khi cá»‘ gáº¯ng truy cáº­p tÃ i liá»‡u hoáº·c nháº­n cÃ¡c gá»£i Ã½ cÃº
phÃ¡p tá»« REPL. NÃ³ cÅ©ng cÃ³ thá»ƒ lÃ  má»™t thÃ¡ch thá»©c Ä‘á»ƒ xÃ¢y dá»±ng Plutus
trong láº§n Ä‘áº§u tiÃªn Ä‘á»‹a Ä‘iá»ƒm. CÃ¡ch dá»… nháº¥t hiá»‡n nay lÃ  sá»­ dá»¥ng Nix.
NhÃ³m Plutus lÃ  Ä‘ang lÃ m viá»‡c Ä‘á»ƒ cung cáº¥p hÃ¬nh áº£nh Docker, Ä‘iá»u nÃ y
sáº½ há»¯u Ã­ch.</li><li>Plutus lÃ  Haskell, Ã­t nhiá»u cÃ³ thá»ƒ cÃ³ má»™t há»c táº­p khÃ³ khÄƒn Ä‘Æ°á»ng
cong cho nhá»¯ng ngÆ°á»i Ä‘áº¿n tá»« ná»n táº£ng láº­p trÃ¬nh má»‡nh lá»‡nh.</li><li>Plutus lÃ  thÆ°Æ¡ng hiá»‡u má»›i vÃ  Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  khÃ´ng cÃ³ nhiá»u trá»£
giÃºp tÃ i nguyÃªn cÃ³ sáºµn, cháº³ng háº¡n nhÆ° cÃ¡c bÃ i Ä‘Äƒng trÃªn
StackOverflow.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-eutxo-model"></a>The (E)UTxO Model<a class="hash-link" href="#the-eutxo-model" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h3><p>Má»™t trong nhá»¯ng Ä‘iá»u quan trá»ng nháº¥t báº¡n cáº§n hiá»ƒu Ä‘á»ƒ viáº¿t há»£p Ä‘á»“ng thÃ´ng
minh Plutus lÃ  mÃ´ hÃ¬nh káº¿ toÃ¡n mÃ  Cardano sá»­ dá»¥ng, mÃ´ hÃ¬nh Äáº§u ra Giao
dá»‹ch ChÆ°a gá»­i Má»Ÿ rá»™ng.</p><p>MÃ´ hÃ¬nh UTxO, khÃ´ng cÃ³ (E) lÃ  mÃ´ hÃ¬nh Ä‘Æ°á»£c giá»›i thiá»‡u bá»Ÿi Bitcoin, nhÆ°ng
cÃ³ nhá»¯ng mÃ´ hÃ¬nh khÃ¡c. VÃ­ dá»¥ nhÆ° Ethereum, sá»­ dá»¥ng cÃ¡i gá»i lÃ  mÃ´ hÃ¬nh
dá»±a trÃªn tÃ i khoáº£n, Ä‘Ã³ lÃ  mÃ´ hÃ¬nh báº¡n Ä‘Ã£ quen vá»›i ngÃ¢n hÃ ng, nÆ¡i má»i
ngÆ°á»i Ä‘á»u cÃ³ tÃ i khoáº£n, má»—i tÃ i khoáº£n cÃ³ sá»‘ dÆ° vÃ  náº¿u báº¡n chuyá»ƒn tiá»n tá»«
tÃ i khoáº£n nÃ y sang tÃ i khoáº£n khÃ¡c thÃ¬ sá»‘ dÆ° Ä‘Æ°á»£c cáº­p nháº­t cho phÃ¹ há»£p.</p><p>ÄÃ³ khÃ´ng pháº£i lÃ  cÃ¡ch mÃ´ hÃ¬nh UTxO hoáº¡t Ä‘á»™ng.</p><p>Káº¿t quáº£ Ä‘áº§u ra cá»§a giao dá»‹ch chÆ°a Ä‘Æ°á»£c gá»­i Ä‘Ãºng nhÆ° tÃªn gá»i. há» Ä‘ang káº¿t
quáº£ giao dá»‹ch tá»« cÃ¡c giao dá»‹ch trÆ°á»›c Ä‘Ã³ Ä‘Ã£ xáº£y ra trÃªn blockchain chÆ°a
Ä‘Æ°á»£c chi tiÃªu.</p><p>HÃ£y xem má»™t vÃ­ dá»¥ mÃ  chÃºng ta cÃ³ hai UTxO nhÆ° váº­y. Má»™t chiáº¿c thuá»™c vá»
Alice cá»§a 100 Ada, vÃ  chiáº¿c khÃ¡c thuá»™c vá» Bob cá»§a 50 Ada.</p><p><img src="/assets/images/pic__00000-5d3a41b01e84e74912dd5956def8a536.png"></p><p>Alice muá»‘n gá»­i 10 ADA cho Bob, vÃ¬ váº­y cÃ´ áº¥y cáº§n táº¡o má»™t giao dá»‹ch.</p><p>::: {.note}
::: {.title}
Note
:::</p><p>Má»™t giao dá»‹ch lÃ  má»™t cÃ¡i gÃ¬ Ä‘Ã³ cÃ³ chá»©a má»™t sá»‘ lÆ°á»£ng Ä‘áº§u vÃ o tÃ¹y Ã½ vÃ  má»™t
sá»‘ lÆ°á»£ng Ä‘áº§u ra tÃ¹y Ã½. TÃ¡c dá»¥ng cá»§a má»™t giao dá»‹ch lÃ  tiÃªu thá»¥ Ä‘áº§u vÃ o vÃ 
sáº£n xuáº¥t Ä‘áº§u ra má»›i.
:::</p><p>Äiá»u quan trá»ng lÃ  báº¡n chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c UTxO hoÃ n chá»‰nh nhÆ° Ä‘áº§u
vÃ o. Alice khÃ´ng thá»ƒ Ä‘Æ¡n giáº£n chia 100 ADA hiá»‡n cÃ³ cá»§a cÃ´ áº¥y thÃ nh 90 vÃ 
a 10, cÃ´ áº¥y pháº£i sá»­ dá»¥ng 100 ADA Ä‘áº§y Ä‘á»§ lÃ m Ä‘áº§u vÃ o cho má»™t giao dá»‹ch.</p><p><img src="/assets/images/2-560d30e9c033bab56aebe7c36ed2226e.png"></p><p>Sau khi Ä‘Æ°á»£c giao dá»‹ch sá»­ dá»¥ng, Ä‘áº§u vÃ o cá»§a Alice khÃ´ng cÃ²n lÃ  UTxO
(giao dá»‹ch chÆ°a sá»­ dá»¥ng). NÃ³ sáº½ Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m Ä‘áº§u vÃ o cho Tx 1. VÃ¬
váº­y, cÃ´ áº¥y cáº§n táº¡o Ä‘áº§u ra cho giao dá»‹ch cá»§a mÃ¬nh.</p><p>CÃ´ áº¥y muá»‘n tráº£ 10 ADA cho Bob, vÃ¬ váº­y má»™t Ä‘áº§u ra sáº½ lÃ  10 ADA (cho Bob).
Sau Ä‘Ã³, cÃ´ áº¥y muá»‘n thay Ä‘á»•i cá»§a mÃ¬nh trá»Ÿ láº¡i, vÃ¬ váº­y cÃ´ áº¥y táº¡o ra káº¿t
quáº£ Ä‘áº§u ra thá»© hai lÃ  90 ADA (vá»›i chÃ­nh cÃ´ áº¥y). UTxO Ä‘áº§y Ä‘á»§ cá»§a 100 ADA
Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng, vá»›i Bob nháº­n má»™t giao dá»‹ch má»›i cá»§a 10 ADA vÃ  Alice nháº­n
Ä‘Æ°á»£c thay Ä‘á»•i cá»§a 90 ADA.</p><p><img src="/assets/images/3-23fbc8fb6fb9bae5f2260777d04727c9.png"></p><p>Trong báº¥t ká»³ giao dá»‹ch nÃ o, tá»•ng giÃ¡ trá»‹ Ä‘áº§u ra pháº£i khá»›p vá»›i tá»•ng cÃ¡c
giÃ¡ trá»‹ Ä‘áº§u vÃ o. Máº·c dÃ¹, nÃ³i Ä‘Ãºng ra thÃ¬ Ä‘iá»u nÃ y khÃ´ng Ä‘Ãºng. á» Ä‘Ã³ lÃ 
hai trÆ°á»ng há»£p ngoáº¡i lá»‡.</p><ol><li><p>PhÃ­ giao dá»‹ch. Trong má»™t chuá»—i khá»‘i thá»±c, báº¡n pháº£i tráº£ phÃ­ cho má»—i</p><p>:   cÃ¡c giao dá»‹ch.</p></li><li><p>MÃ£ thÃ´ng bÃ¡o gá»‘c. CÃ¡c giao dá»‹ch cÃ³ thá»ƒ táº¡o mÃ£ thÃ´ng bÃ¡o má»›i,</p><p>:   hoáº·c Ä‘á»ƒ ghi mÃ£ thÃ´ng bÃ¡o, trong trÆ°á»ng há»£p Ä‘Ã³, Ä‘áº§u vÃ o sáº½ tháº¥p
hÆ¡n hoáº·c cao hÆ¡n so vá»›i káº¿t quáº£ Ä‘áº§u ra, tÃ¹y thuá»™c vÃ o tÃ¬nh
huá»‘ng.</p></li></ol><p>HÃ£y xem má»™t vÃ­ dá»¥ phá»©c táº¡p hÆ¡n má»™t chÃºt.</p><p>Alice vÃ  Bob muá»‘n chuyá»ƒn 55 ADA má»—i ngÆ°á»i cho Charlie. Alice khÃ´ng cÃ³
lá»±a chá»n, vÃ¬ cÃ´ áº¥y chá»‰ cÃ³ má»™t UTxO. Bob cÅ©ng khÃ´ng cÃ³ lá»±a chá»n nÃ o vÃ¬
hai UTxO cá»§a anh áº¥y Ä‘á»§ lá»›n Ä‘á»ƒ bao phá»§ 55 ADA mÃ  anh áº¥y muá»‘n gá»­i tá»›i -
Charlie. Bob sáº½ pháº£i sá»­ dá»¥ng cáº£ hai UTxO cá»§a mÃ¬nh lÃ m Ä‘áº§u vÃ o.</p><p><img src="/assets/images/4-c8bbe6c307d7b281c36cd4e12a4aca11.png"></p><p>Khi nÃ o thÃ¬ Ä‘Æ°á»£c phÃ©p chi tiÃªu?
~~~~~~~~~~~~~~~~~~~~~~~~~</p><p>RÃµ rÃ ng sáº½ khÃ´ng pháº£i lÃ  má»™t Ã½ kiáº¿n hay náº¿u báº¥t ká»³ giao dá»‹ch nÃ o cÃ³ thá»ƒ
chi tiÃªu UTxOs tÃ¹y Ã½. Náº¿u Ä‘Ãºng nhÆ° váº­y thÃ¬ Bob cÃ³ thá»ƒ tiÃªu tiá»n cá»§a
Alice mÃ  khÃ´ng cÃ³ sá»± Ä‘á»“ng Ã½ cá»§a cÃ´ áº¥y.</p><p>CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng lÃ  thÃªm chá»¯ kÃ½ vÃ o cÃ¡c giao dá»‹ch.</p><p>Trong giao dá»‹ch 1, chá»¯ kÃ½ cá»§a Alice pháº£i Ä‘Æ°á»£c thÃªm vÃ o giao dá»‹ch. Trong
giao dá»‹ch 2, cáº£ Alice vÃ  Bob Ä‘á»u cáº§n pháº£i kÃ½ vÃ o giao dá»‹ch. Ngáº«u nhiÃªn,
giao dá»‹ch thá»© hai, phá»©c táº¡p hÆ¡n, khÃ´ng thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n trong
Daedalus, vÃ¬ váº­y báº¡n sáº½ cáº§n Ä‘á»ƒ sá»­ dá»¥ng CLI cho viá»‡c nÃ y.</p><p>Má»i thá»© Ä‘Æ°á»£c giáº£i thÃ­ch cho Ä‘áº¿n nay chá»‰ lÃ  vá» mÃ´ hÃ¬nh UTxO, khÃ´ng pháº£i
(E) MÃ´ hÃ¬nh UTxO.</p><p>Pháº§n má»Ÿ rá»™ng xuáº¥t hiá»‡n khi chÃºng ta nÃ³i vá» há»£p Ä‘á»“ng thÃ´ng minh, vÃ¬ váº­y
Ä‘á»ƒ hiá»ƒu Ä‘iá»u Ä‘Ã³, chÃºng ta hÃ£y táº­p trung vÃ o viá»‡c tiÃªu thá»¥ UTxO cá»§a Alice
lÃ  100 ADA.</p><p><img src="/assets/images/5-cb6983ad3a780bf9387bd5cd61139add.png"></p><p>Trong mÃ´ hÃ¬nh UTxO, viá»‡c xÃ¡c thá»±c quyáº¿t Ä‘á»‹nh liá»‡u giao dá»‹ch mÃ  Ä‘áº§u vÃ o
nÃ y thuá»™c vá» Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng UTxO, dá»±a vÃ o chá»¯ kÃ½ Ä‘iá»‡n tá»­. Trong
trÆ°á»ng há»£p nÃ y, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  Alice pháº£i kÃ½ vÃ o giao dá»‹ch Ä‘á»ƒ viá»‡c
sá»­ dá»¥ng UTxO há»£p lá»‡.</p><p>Ã tÆ°á»Ÿng cá»§a mÃ´ hÃ¬nh (E) UTxO lÃ  lÃ m cho Ä‘iá»u nÃ y trá»Ÿ nÃªn tá»•ng quÃ¡t hÆ¡n.</p><p>Thay vÃ¬ chá»‰ cÃ³ má»™t Ä‘iá»u kiá»‡n, cá»¥ thá»ƒ lÃ  chá»¯ kÃ½ cÃ³ trong giao dá»‹ch, chÃºng
tÃ´i thay tháº¿ chá»¯ kÃ½ nÃ y báº±ng tÃ¹y Ã½ Há»£p lÃ½.</p><p>ÄÃ¢y lÃ  nÆ¡i Plutus Ä‘áº¿n.</p><p>Thay vÃ¬ chá»‰ cÃ³ má»™t Ä‘á»‹a chá»‰ tÆ°Æ¡ng á»©ng vá»›i má»™t khÃ³a cÃ´ng khai cÃ³ thá»ƒ Ä‘Æ°á»£c
xÃ¡c minh báº±ng chá»¯ kÃ½ Ä‘Æ°á»£c thÃªm vÃ o giao dá»‹ch, chÃºng tÃ´i cÃ³ cÃ¡c Ä‘á»‹a chá»‰
chung chung hÆ¡n, khÃ´ng dá»±a trÃªn khÃ³a cÃ´ng khai hoáº·c hÃ m bÄƒm cá»§a cÃ´ng
khai khÃ³a, nhÆ°ng thay vÃ o Ä‘Ã³ chá»©a logic tÃ¹y Ã½ quyáº¿t Ä‘á»‹nh trong Ä‘iá»u kiá»‡n
nÃ o a UTxO cá»¥ thá»ƒ cÃ³ thá»ƒ Ä‘Æ°á»£c chi tiÃªu báº±ng má»™t giao dá»‹ch cá»¥ thá»ƒ.</p><p>VÃ¬ váº­y, thay vÃ¬ má»™t Ä‘áº§u vÃ o Ä‘Æ°á»£c xÃ¡c thá»±c Ä‘Æ¡n giáº£n báº±ng khÃ³a cÃ´ng khai
cá»§a nÃ³, Ä‘áº§u vÃ o sáº½ biá»‡n minh ráº±ng nÃ³ Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng Ä‘áº§u ra nÃ y vá»›i
má»™t sá»‘ pháº§n dá»¯ liá»‡u tÃ¹y Ã½ mÃ  chÃºng tÃ´i gá»i lÃ  <em>Redeemer</em>.</p><p><img src="/assets/images/6-28a5bcb4ae5c7f54bd05c9d770bec081.png"></p><p>ChÃºng tÃ´i thay tháº¿ Ä‘á»‹a chá»‰ khÃ³a cÃ´ng khai (cá»§a Alice trong vÃ­ dá»¥ cá»§a
chÃºng tÃ´i) báº±ng má»™t táº­p lá»‡nh vÃ  chÃºng tÃ´i thay tháº¿ chá»¯ kÃ½ Ä‘iá»‡n tá»­ báº±ng
má»™t * Redeemer *.</p><p>NÃ³ chÃ­nh xÃ¡c nghÄ©a lÃ  gÃ¬? Ã chÃºng tÃ´i lÃ  <em>arbitrary logic</em> lÃ  gÃ¬?</p><p>Äiá»u quan trá»ng lÃ  pháº£i xem xÃ©t bá»‘i cáº£nh mÃ  ká»‹ch báº£n cÃ³. CÃ³ má»™t sá»‘ tÃ¹y
chá»n.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="script-context"></a>Script Context<a class="hash-link" href="#script-context" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-bitcoin-approach"></a>The Bitcoin approach<a class="hash-link" href="#the-bitcoin-approach" title="Direct link to heading">#</a></h4><p>Má»™t tÃ¹y chá»n lÃ  táº¥t cáº£ nhá»¯ng gÃ¬ script tháº¥y lÃ  Redeemer. Trong trÆ°á»ng
há»£p nÃ y, Redeemer chá»©a táº¥t cáº£ logic cáº§n thiáº¿t Ä‘á»ƒ xÃ¡c minh giao dá»‹ch.
TÃ¬nh cá», Ä‘Ã¢y lÃ  nhá»¯ng gÃ¬ Bitcoin lÃ m. Trong Bitcoin, cÃ³ nhá»¯ng há»£p Ä‘á»“ng,
nhÆ°ng chÃºng khÃ´ng pháº£i lÃ  ráº¥t thÃ´ng minh. ChÃºng Ä‘Æ°á»£c gá»i lÃ  Bitcoin
Script, hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c nhÆ° tháº¿ nÃ y. CÃ³ má»™t táº­p lá»‡nh trÃªn UTxO bÃªn
vÃ  ngÆ°á»i mua láº¡i á»Ÿ phÃ­a Ä‘áº§u vÃ o, vÃ  táº­p lá»‡nh nháº­n Ä‘Æ°á»£c ngÆ°á»i Ä‘á»•i vÃ  sá»­
dá»¥ng nÃ³ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh xem cÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng UTxO hay khÃ´ng.</p><p>NhÆ°ng Ä‘Ã¢y khÃ´ng pháº£i lÃ  lá»±a chá»n duy nháº¥t. ChÃºng tÃ´i cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh
cung cáº¥p thÃªm thÃ´ng tin vÃ o táº­p lá»‡nh.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-ethereum-approach"></a>The Ethereum approach<a class="hash-link" href="#the-ethereum-approach" title="Direct link to heading">#</a></h4><p>Ethereum sá»­ dá»¥ng má»™t khÃ¡i niá»‡m khÃ¡c. Trong Ethereum, táº­p lá»‡nh cÃ³ thá»ƒ
tháº¥y má»i thá»© - toÃ n bá»™ chuá»—i khá»‘i - má»™t thÃ¡i cá»±c ngÆ°á»£c láº¡i vá»›i Bitcoin.
Trong Bitcoin, táº­p lá»‡nh cÃ³ ráº¥t Ã­t bá»‘i cáº£nh, táº¥t cáº£ nhá»¯ng gÃ¬ nÃ³ cÃ³ thá»ƒ
tháº¥y lÃ  ngÆ°á»i mua chuá»™c. Trong Ethereum, cÃ¡c táº­p lá»‡nh Solidity cÃ³ thá»ƒ
tháº¥y tráº¡ng thÃ¡i hoÃ n chá»‰nh cá»§a chuá»—i khá»‘i.</p><p>Äiá»u nÃ y lÃ m cho cÃ¡c táº­p lá»‡nh Ethereum máº¡nh máº½ hÆ¡n, nhÆ°ng nÃ³ cÅ©ng Ä‘i kÃ¨m
vá»›i cÃ¡c váº¥n Ä‘á». Bá»Ÿi vÃ¬ cÃ¡c táº­p lá»‡nh ráº¥t máº¡nh nÃªn ráº¥t khÃ³ Ä‘á»ƒ dá»± Ä‘oÃ¡n
nhá»¯ng gÃ¬ má»™t táº­p lá»‡nh nháº¥t Ä‘á»‹nh sáº½ lÃ m vÃ  Ä‘iá»u Ä‘Ã³ má»Ÿ ra cÃ¡nh cá»­a cho táº¥t
cáº£ cÃ¡c loáº¡i cÃ¡c váº¥n Ä‘á» an ninh vÃ  nguy hiá»ƒm. Ráº¥t khÃ³ cho cÃ¡c nhÃ  phÃ¡t
triá»ƒn cá»§a má»™t Há»£p Ä‘á»“ng thÃ´ng minh Ethereum Ä‘á»ƒ dá»± Ä‘oÃ¡n má»i thá»© cÃ³ thá»ƒ xáº£y
ra.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-cardano-approach"></a>The Cardano approach<a class="hash-link" href="#the-cardano-approach" title="Direct link to heading">#</a></h4><p>Nhá»¯ng gÃ¬ Cardano lÃ m lÃ  má»™t cÃ¡i gÃ¬ Ä‘Ã³ á»Ÿ giá»¯a.</p><p>Trong Plutus, táº­p lá»‡nh khÃ´ng thá»ƒ nhÃ¬n tháº¥y toÃ n bá»™ chuá»—i khá»‘i, nhÆ°ng nÃ³
cÃ³ thá»ƒ tháº¥y toÃ n bá»™ giao dá»‹ch Ä‘ang Ä‘Æ°á»£c xÃ¡c thá»±c. NgÆ°á»£c láº¡i vá»›i Bitcoin,
nÃ³ khÃ´ng thá»ƒ chá»‰ nhÃ¬n tháº¥y ngÆ°á»i mua láº¡i má»™t Ä‘áº§u vÃ o mÃ  cÃ²n cÃ³ thá»ƒ tháº¥y
táº¥t cáº£ cÃ¡c Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra cá»§a giao dá»‹ch vÃ  chÃ­nh giao dá»‹ch Ä‘Ã³. Táº­p
lá»‡nh Plutus cÃ³ thá»ƒ sá»­ dá»¥ng thÃ´ng tin nÃ y Ä‘á»ƒ quyáº¿t Ä‘á»‹nh xem viá»‡c sá»­ dá»¥ng
Ä‘áº§u ra cÃ³ á»•n hay khÃ´ng.</p><p>CÃ³ má»™t thÃ nh pháº§n cuá»‘i cÃ¹ng mÃ  cÃ¡c táº­p lá»‡nh Plutus cáº§n Ä‘á»ƒ trá»Ÿ nÃªn máº¡nh
máº½ vÃ  biá»ƒu cáº£m nhÆ° cÃ¡c táº­p lá»‡nh Ethereum. ÄÃ³ lÃ  cÃ¡i gá»i lÃ  Datum. ÄÃ³ lÃ 
má»™t pháº§n dá»¯ liá»‡u cÃ³ thá»ƒ Ä‘Æ°á»£c liÃªn káº¿t vá»›i UTxO cÃ¹ng vá»›i giÃ¡ trá»‹ UTxO.</p><p><img src="/assets/images/7-dca23521c07adb2742275b3b7ddb42b7.png"></p><p>Vá»›i Ä‘iá»u nÃ y, cÃ³ thá»ƒ chá»©ng minh vá» máº·t toÃ¡n há»c ráº±ng Plutus Ã­t nháº¥t lÃ 
máº¡nh máº½ nhÆ° mÃ´ hÃ¬nh Ethereum - báº¥t ká»³ logic nÃ o báº¡n cÃ³ thá»ƒ diá»…n Ä‘áº¡t
Ethereum, báº¡n cÅ©ng cÃ³ thá»ƒ thá»ƒ hiá»‡n nÃ³ báº±ng cÃ¡ch sá»­ dá»¥ng mÃ´ hÃ¬nh (E)
UTxO.</p><p>NhÆ°ng nÃ³ cÅ©ng cÃ³ ráº¥t nhiá»u lá»£i tháº¿ so vá»›i mÃ´ hÃ¬nh Ethereum. VÃ¬ vÃ­ dá»¥,
trong Plutus, cÃ³ thá»ƒ kiá»ƒm tra xem liá»‡u má»™t giao dá»‹ch cÃ³ xÃ¡c thá»±c trong
vÃ­ cá»§a báº¡n, trÆ°á»›c khi báº¡n gá»­i nÃ³ vÃ o chuá»—i.</p><p>Tuy nhiÃªn, má»i thá»© váº«n cÃ³ thá»ƒ sai vá»›i xÃ¡c thá»±c ngoÃ i chuá»—i. VÃ¬ vÃ­ dá»¥
trong tÃ¬nh huá»‘ng báº¡n gá»­i má»™t giao dá»‹ch Ä‘Ã£ Ä‘Æ°á»£c Ä‘Æ°á»£c xÃ¡c thá»±c trong vÃ­
nhÆ°ng bá»‹ tá»« chá»‘i khi nÃ³ cá»‘ gáº¯ng sá»­ dá»¥ng sáº£n lÆ°á»£ng trÃªn chuá»—i Ä‘Ã£ Ä‘Æ°á»£c
tiÃªu thá»¥ bá»Ÿi má»™t giao dá»‹ch khÃ¡c.</p><p>Trong trÆ°á»ng há»£p nÃ y, giao dá»‹ch cá»§a báº¡n sáº½ khÃ´ng thÃ nh cÃ´ng mÃ  báº¡n khÃ´ng
pháº£i tráº£ báº¥t ká»³ khoáº£n nÃ o lá»‡ phÃ­.</p><p>NhÆ°ng náº¿u táº¥t cáº£ cÃ¡c yáº¿u tá»‘ Ä‘áº§u vÃ o váº«n á»Ÿ Ä‘Ã³ mÃ  giao dá»‹ch cá»§a báº¡n mong
Ä‘á»£i, thÃ¬ báº¡n cÃ³ thá»ƒ cháº¯c cháº¯n ráº±ng giao dá»‹ch sáº½ xÃ¡c thá»±c vÃ  sáº½ cÃ³ hiá»‡u
quáº£ dá»± Ä‘oÃ¡n.</p><p>ÄÃ¢y khÃ´ng pháº£i lÃ  trÆ°á»ng há»£p cá»§a Ethereum. Trong Ethereum, khoáº£ng thá»i
gian giá»¯a báº¡n xÃ¢y dá»±ng má»™t giao dá»‹ch vÃ  nÃ³ Ä‘Æ°á»£c káº¿t há»£p vÃ o blockchain,
ráº¥t nhiá»u thá»© cÃ³ thá»ƒ xáº£y ra Ä‘á»“ng thá»i vÃ  Ä‘Ã³ lÃ  khÃ´ng thá»ƒ Ä‘oÃ¡n trÆ°á»›c vÃ 
cÃ³ thá»ƒ cÃ³ nhá»¯ng tÃ¡c Ä‘á»™ng khÃ´ng thá»ƒ Ä‘oÃ¡n trÆ°á»›c vá» nhá»¯ng gÃ¬ sáº½ xáº£y ra khi
táº­p lá»‡nh cá»§a báº¡n cuá»‘i cÃ¹ng Ä‘Æ°á»£c thá»±c thi.</p><p>Trong Ethereum, luÃ´n cÃ³ kháº£ nÄƒng báº¡n pháº£i tráº£ phÃ­ gas cho má»™t giao dá»‹ch
ngay cáº£ khi giao dá»‹ch cuá»‘i cÃ¹ng khÃ´ng thÃ nh cÃ´ng do lá»—i. VÃ  Ä‘iá»u Ä‘Ã³ Ä‘Æ°á»£c
Ä‘áº£m báº£o sáº½ khÃ´ng bao giá» xáº£y ra vá»›i Cardano.</p><p>NgoÃ i ra, viá»‡c phÃ¢n tÃ­ch táº­p lá»‡nh Plutus cÅ©ng dá»… dÃ ng hÆ¡n vÃ  kiá»ƒm tra
hoáº·c tháº­m chÃ­ chá»©ng minh ráº±ng nÃ³ an toÃ n, bá»Ÿi vÃ¬ báº¡n khÃ´ng cáº§n pháº£i xem
xÃ©t toÃ n bá»™ tráº¡ng thÃ¡i cá»§a blockchain, Ä‘iá»u nÃ y khÃ´ng thá»ƒ biáº¿t trÆ°á»›c
Ä‘Æ°á»£c. Báº¡n cÃ³ thá»ƒ táº­p trung vÃ o bá»‘i cáº£nh chá»‰ bao gá»“m chi tiÃªu Giao dá»‹ch.
VÃ¬ váº­y, báº¡n cÃ³ má»™t pháº¡m vi háº¡n cháº¿ hÆ¡n nhiá»u vÃ  Ä‘iá»u Ä‘Ã³ lÃ m cho nÃ³ dá»…
dÃ ng hÆ¡n nhiá»u Ä‘á»ƒ hiá»ƒu nhá»¯ng gÃ¬ má»™t táº­p lá»‡nh thá»±c sá»± Ä‘ang lÃ m vÃ  nhá»¯ng
gÃ¬ cÃ³ thá»ƒ cÃ³ thá»ƒ xáº£y ra sai sÃ³t.</p><p>Ai chá»‹u trÃ¡ch nhiá»‡m cung cáº¥p dá»¯ liá»‡u, ngÆ°á»i Ä‘á»•i vÃ  trÃ¬nh xÃ¡c thá»±c? Quy
táº¯c trong Plutus lÃ  giao dá»‹ch chi tiÃªu pháº£i thá»±c hiá»‡n Ä‘iá»u Ä‘Ã³ trong khi
giao dá»‹ch sáº£n xuáº¥t chá»‰ pháº£i cung cáº¥p hÃ m bÄƒm.</p><p>Äiá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  náº¿u tÃ´i táº¡o ra má»™t Ä‘áº§u ra náº±m táº¡i má»™t Ä‘á»‹a chá»‰ táº­p
lá»‡nh thÃ¬ giao dá»‹ch sáº£n xuáº¥t nÃ y chá»‰ pháº£i bao gá»“m bÄƒm cá»§a táº­p lá»‡nh vÃ  bÄƒm
cá»§a dá»¯ liá»‡u thuá»™c Ä‘áº§u ra. Theo tÃ¹y chá»n, nÃ³ cÃ³ thá»ƒ bao gá»“m cáº£ datum vÃ 
script.</p><p>Náº¿u má»™t giao dá»‹ch muá»‘n sá»­ dá»¥ng Ä‘áº§u ra nhÆ° váº­y thÃ¬ * giao dá»‹ch * Ä‘Ã³
pháº£i cung cáº¥p dá»¯ liá»‡u, trÃ¬nh Ä‘á»•i vÃ  táº­p lá»‡nh. CÃ³ nghÄ©a lÃ  Ä‘á»ƒ chi tiÃªu
Ä‘áº§u vÃ o nháº¥t Ä‘á»‹nh, báº¡n cáº§n biáº¿t dá»¯ liá»‡u, bá»Ÿi vÃ¬ chá»‰ bÄƒm Ä‘Æ°á»£c hiá»ƒn thá»‹
cÃ´ng khai trÃªn blockchain.</p><p>ÄÃ¢y Ä‘Ã´i khi lÃ  má»™t váº¥n Ä‘á» vÃ  khÃ´ng pháº£i nhá»¯ng gÃ¬ báº¡n muá»‘n vÃ  Ä‘Ã³ lÃ  lÃ½ do
táº¡i sao báº¡n cÃ³ tÃ¹y chá»n bao gá»“m dá»¯ liá»‡u trong giao dá»‹ch sáº£n xuáº¥t. Náº¿u
Ä‘iá»u nÃ y lÃ  khÃ´ng thá»ƒ, chá»‰ nhá»¯ng ngÆ°á»i biáº¿t dá»¯ liá»‡u báº±ng má»™t sá»‘ phÆ°Æ¡ng
tiá»‡n khÃ¡c ngoÃ i viá»‡c nhÃ¬n vÃ o chuá»—i khá»‘i sáº½ cÃ³ thá»ƒ chi tiÃªu má»™t Ä‘áº§u ra
nhÆ° váº­y.</p><p>MÃ´ hÃ¬nh (E) UTxO khÃ´ng bá»‹ rÃ ng buá»™c vá»›i má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh cá»¥ thá»ƒ.
GÃ¬ chÃºng tÃ´i cÃ³ Plutus, lÃ  Haskell, nhÆ°ng vá» cÆ¡ báº£n, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng
cÃ¹ng má»™t mÃ´ hÃ¬nh vá»›i má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh hoÃ n toÃ n khÃ¡c vÃ  chÃºng tÃ´i
Ä‘á»‹nh viáº¿t trÃ¬nh biÃªn dá»‹ch cho cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh khÃ¡c cho Plutus
Script lÃ  ngÃ´n ngá»¯ \&quot;há»£p ngá»¯\&quot; bÃªn dÆ°á»›i Plutus.</p><p>Cháº¡y má»™t há»£p Ä‘á»“ng Ä‘áº¥u giÃ¡ máº«u trÃªn má»™t SÃ¢n chÆ¡i Ä‘á»‹a phÆ°Æ¡ng
---------------------------------------------------------</p><p>hay vÃ¬ báº¯t Ä‘áº§u theo cÃ¡ch truyá»n thá»‘ng, tá»©c lÃ  báº¯t Ä‘áº§u ráº¥t Ä‘Æ¡n giáº£n vÃ 
thá»±c hiá»‡n má»™t khÃ³a há»c sá»¥p Ä‘á»• trÃªn Haskell, tiáº¿p theo lÃ  má»™t sá»‘ há»£p Ä‘á»“ng
Plutus Ä‘Æ¡n giáº£n vÃ  tá»« tá»« thÃªm nhá»¯ng thá»© phá»©c táº¡p hÆ¡n, nÃ³ sáº½ thÃº vá»‹ hÆ¡n,
Ä‘áº·c biá»‡t lÃ  Ä‘á»‘i vá»›i bÃ i giáº£ng Ä‘áº§u tiÃªn, Ä‘á»ƒ giá»›i thiá»‡u má»™t há»£p Ä‘á»“ng thÃº
vá»‹ hÆ¡n vÃ  chá»©ng minh nhá»¯ng gÃ¬ Plutus cÃ³ thá»ƒ lÃ m. Sau Ä‘Ã³, chÃºng ta cÃ³ thá»ƒ
sá»­ dá»¥ng nÃ³ Ä‘á»ƒ xem xÃ©t má»™t sá»‘ khÃ¡i niá»‡m chi tiáº¿t hÆ¡n.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-english-auction-contract"></a>The English Auction contract<a class="hash-link" href="#the-english-auction-contract" title="Direct link to heading">#</a></h3><p>NhÆ° vÃ­ dá»¥ giá»›i thiá»‡u cá»§a chÃºng tÃ´i, chÃºng tÃ´i sáº½ xem xÃ©t má»™t cuá»™c Äáº¥u
giÃ¡ báº±ng tiáº¿ng Anh. Ai Ä‘Ã³ muá»‘n Ä‘áº¥u giÃ¡ NFT (MÃ£ thÃ´ng bÃ¡o khÃ´ng thá»ƒ thay
tháº¿) - mÃ£ thÃ´ng bÃ¡o gá»‘c trÃªn Cardano chá»‰ tá»“n táº¡i má»™t láº§n. NFT cÃ³ thá»ƒ Ä‘áº¡i
diá»‡n cho má»™t sá»‘ nghá»‡ thuáº­t ká»¹ thuáº­t sá»‘ hoáº·c cÃ³ thá»ƒ lÃ  má»™t sá»‘ tÃ i sáº£n
trong tháº¿ giá»›i thá»±c.</p><p>PhiÃªn Ä‘áº¥u giÃ¡ Ä‘Æ°á»£c tham sá»‘ hÃ³a bá»Ÿi chá»§ sá»Ÿ há»¯u mÃ£ thÃ´ng bÃ¡o, chÃ­nh mÃ£
thÃ´ng bÃ¡o, giÃ¡ tháº§u tá»‘i thiá»ƒu vÃ  thá»i háº¡n.</p><p>VÃ¬ váº­y, giáº£ sá»­ Alice cÃ³ má»™t NFT vÃ  muá»‘n bÃ¡n Ä‘áº¥u giÃ¡ nÃ³.</p><p><img src="/assets/images/pic__00000-d7feec89f126c08a562984c616654357.png"></p><p>CÃ´ áº¥y táº¡o UTxO á»Ÿ Ä‘áº§u ra táº­p lá»‡nh. ChÃºng ta sáº½ xem xÃ©t mÃ£ sau, nhÆ°ng
trÆ°á»›c tiÃªn chÃºng ta sáº½ chá»‰ xem xÃ©t cÃ¡c Ã½ tÆ°á»Ÿng cá»§a mÃ´ hÃ¬nh UTxO.</p><p>GiÃ¡ trá»‹ cá»§a UTxO lÃ  NFT vÃ  dá»¯ liá»‡u lÃ  * KhÃ´ng cÃ³ gÃ¬ *. Sau nÃ y nÃ³ sáº½
lÃ  ngÆ°á»i tráº£ giÃ¡ cao nháº¥t vÃ  tráº£ giÃ¡ cao nháº¥t. NhÆ°ng hiá»‡n táº¡i, váº«n chÆ°a
cÃ³ giÃ¡ tháº§u.</p><p>Trong chuá»—i khá»‘i thá»±c, báº¡n khÃ´ng thá»ƒ cÃ³ UTxO chá»‰ chá»©a cÃ¡c mÃ£ thÃ´ng bÃ¡o
gá»‘c, chÃºng luÃ´n pháº£i Ä‘i kÃ¨m vá»›i má»™t sá»‘ Ada, nhÆ°ng Ä‘á»ƒ Ä‘Æ¡n giáº£n, chÃºng tÃ´i
sáº½ bá» qua Ä‘iá»u Ä‘Ã³ á»Ÿ Ä‘Ã¢y.</p><p>KhÃ´ng pháº£i giáº£ sá»­ Bob muá»‘n Ä‘áº·t giÃ¡ tháº§u 100 Ada.</p><p><img src="/assets/images/pic__00001-04bba7b469f16730f7810fa705d6f795.png"></p><p>Äá»ƒ lÃ m Ä‘iá»u nÃ y, Bob táº¡o má»™t giao dá»‹ch vá»›i hai Ä‘áº§u vÃ o vÃ  má»™t Ä‘áº§u ra.
Äáº§u vÃ o Ä‘áº§u tiÃªn lÃ  Ä‘áº¥u giÃ¡ UTxO vÃ  Ä‘áº§u vÃ o thá»© hai lÃ  giÃ¡ tháº§u 100 Ada
cá»§a Bob. Äáº§u ra, má»™t láº§n ná»¯a, á»Ÿ táº­p lá»‡nh Ä‘áº§u ra, nhÆ°ng bÃ¢y giá» giÃ¡ trá»‹
vÃ  má»©c dá»¯ liá»‡u Ä‘Ã£ thay Ä‘á»•i. TrÆ°á»›c Ä‘Ã¢y sá»‘ liá»‡u lÃ  * KhÃ´ng cÃ³ gÃ¬ * nhÆ°ng
bÃ¢y giá» lÃ  (Bob, 100).</p><p>GiÃ¡ trá»‹ Ä‘Ã£ thay Ä‘á»•i vÃ¬ bÃ¢y giá» khÃ´ng chá»‰ cÃ³ NFT trong UTxO mÃ  cÃ²n cÃ³ giÃ¡
tháº§u Ada 100.</p><p>Vá»›i tÆ° cÃ¡ch lÃ  ngÆ°á»i mua láº¡i, Ä‘á»ƒ má»Ÿ khÃ³a phiÃªn Ä‘áº¥u giÃ¡ ban Ä‘áº§u UTxO,
chÃºng tÃ´i sá»­ dá»¥ng má»™t thá»© gá»i lÃ  * GiÃ¡ tháº§u <em>. ÄÃ¢y chá»‰ lÃ  má»™t kiá»ƒu dá»¯
liá»‡u Ä‘áº¡i sá»‘. CÅ©ng sáº½ cÃ³ cÃ¡c giÃ¡ trá»‹ khÃ¡c nhÆ°ng má»™t trong sá»‘ Ä‘Ã³ lÃ </em> GiÃ¡
tháº§u *. VÃ  ká»‹ch báº£n Ä‘áº¥u giÃ¡ sáº½ kiá»ƒm tra xem táº¥t cáº£ cÃ¡c Ä‘iá»u kiá»‡n Ä‘Ã£
Ä‘Æ°á»£c thá»a mÃ£n hay chÆ°a. VÃ¬ váº­y, trong trÆ°á»ng há»£p nÃ y, ká»‹ch báº£n pháº£i kiá»ƒm
tra xem giÃ¡ tháº§u cÃ³ xáº£y ra trÆ°á»›c thá»i háº¡n hay khÃ´ng, giÃ¡ tháº§u Ä‘Ã³ cÃ³ Ä‘á»§
cao hay khÃ´ng.</p><p>NÃ³ cÅ©ng pháº£i kiá»ƒm tra xem cÃ³ cÃ¡c Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra chÃ­nh xÃ¡c hay khÃ´ng.
Trong trÆ°á»ng há»£p nÃ y, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  kiá»ƒm tra xem phiÃªn Ä‘áº¥u giÃ¡ cÃ³
pháº£i lÃ  Ä‘áº§u ra chá»©a NFT vÃ  cÃ³ má»©c dá»¯ liá»‡u chÃ­nh xÃ¡c hay khÃ´ng.</p><p>Tiáº¿p theo, giáº£ sá»­ ráº±ng Charlie muá»‘n tráº£ giÃ¡ cao hÆ¡n Bob vÃ  Ä‘áº·t giÃ¡ tháº§u
200 Ada.</p><p><img src="/assets/images/pic__00002-85f6ca4d7ffa6730c9ed357859925820.png"></p><p>Charlie sáº½ táº¡o má»™t giao dá»‹ch khÃ¡c, láº§n nÃ y lÃ  má»™t giao dá»‹ch vá»›i hai Ä‘áº§u
vÃ o vÃ  hai Ä‘áº§u ra. NhÆ° trong trÆ°á»ng há»£p Ä‘áº§u tiÃªn, hai Ä‘áº§u vÃ o lÃ  giÃ¡
tháº§u (láº§n nÃ y lÃ  giÃ¡ tháº§u cá»§a Charlie lÃ  200 Ada), vÃ  Ä‘áº¥u giÃ¡ UTxO. Má»™t
trong nhá»¯ng káº¿t quáº£ Ä‘áº§u ra lÃ  phiÃªn Ä‘áº¥u giÃ¡ Ä‘Æ°á»£c cáº­p nháº­t UTxO. CÅ©ng sáº½
cÃ³ Ä‘áº§u ra thá»© hai, sáº½ lÃ  UTxO tráº£ vá» giÃ¡ tháº§u 100 Ada cá»§a Bob.</p><p>::: {.note}
::: {.title}
Note
:::</p><p>TrÃªn thá»±c táº¿, phiÃªn Ä‘áº¥u giÃ¡ UTxO khÃ´ng Ä‘Æ°á»£c cáº­p nháº­t vÃ¬ khÃ´ng cÃ³ gÃ¬ thay
Ä‘á»•i.</p><p>Äiá»u thá»±c sá»± xáº£y ra lÃ  phiÃªn Ä‘áº¥u giÃ¡ cÅ© UTxO Ä‘Æ°á»£c sá»­ dá»¥ng vÃ  má»™t phiÃªn
Ä‘áº¥u giÃ¡ má»›i Ä‘Æ°á»£c táº¡o ra, nhÆ°ng nÃ³ cÃ³ cáº£m giÃ¡c cáº­p nháº­t tráº¡ng thÃ¡i cá»§a
phiÃªn Ä‘áº¥u giÃ¡ UTxO
:::</p><p>Láº§n nÃ y, chÃºng tÃ´i láº¡i sá»­ dá»¥ng trÃ¬nh Ä‘á»•i * Bi.d *. Láº§n nÃ y ká»‹ch báº£n
pháº£i kiá»ƒm tra xem thá»i háº¡n Ä‘Ã£ Ä‘áº¿n chÆ°a, giÃ¡ tháº§u cao hÆ¡n giÃ¡ tháº§u trÆ°á»›c
Ä‘Ã³, nÃ³ pháº£i kiá»ƒm tra xem phiÃªn Ä‘áº¥u giÃ¡ UTxO cÃ³ Ä‘Æ°á»£c táº¡o chÃ­nh xÃ¡c hay
khÃ´ng vÃ  pháº£i kiá»ƒm tra xem ngÆ°á»i tráº£ giÃ¡ cao nháº¥t trÆ°á»›c Ä‘Ã³ cÃ³ nháº­n láº¡i
giÃ¡ tháº§u cá»§a há» hay khÃ´ng.</p><p>Cuá»‘i cÃ¹ng, hÃ£y giáº£ sá»­ ráº±ng sáº½ khÃ´ng cÃ³ má»™t cuá»™c Ä‘áº¥u giÃ¡ nÃ o khÃ¡c, vÃ¬ váº­y
khi Ä‘Ã£ Ä‘áº¿n thá»i háº¡n cuá»‘i cÃ¹ng, cuá»™c Ä‘áº¥u giÃ¡ cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘Ã³ng láº¡i.</p><p>Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u Ä‘Ã³, ai Ä‘Ã³ pháº£i táº¡o thÃªm má»™t giao dá»‹ch khÃ¡c. ÄÃ³ cÃ³ thá»ƒ
lÃ  Alice, ngÆ°á»i muá»‘n thu giÃ¡ hoáº·c cÃ³ thá»ƒ lÃ  Charlie, ngÆ°á»i muá»‘n thu NFT.
ÄÃ³ cÃ³ thá»ƒ lÃ  báº¥t ká»³ ai, nhÆ°ng Alice vÃ  Charlie cÃ³ Ä‘á»™ng cÆ¡ Ä‘á»ƒ lÃ m nhÆ°
váº­y.</p><p>Giao dá»‹ch nÃ y sáº½ cÃ³ má»™t Ä‘áº§u vÃ o - Ä‘áº¥u giÃ¡ UTxO, láº§n nÃ y vá»›i trÃ¬nh Ä‘á»•i *
Clos.e * - vÃ  nÃ³ sáº½ cÃ³ hai Ä‘áº§u ra. Má»™t trong nhá»¯ng káº¿t quáº£ Ä‘áº§u ra dÃ nh
cho ngÆ°á»i tráº£ giÃ¡ cao nháº¥t, Charlie vÃ  anh ta nháº­n Ä‘Æ°á»£c NFT vÃ  Ä‘áº§u ra
thá»© hai thuá»™c vá» Alice, ngÆ°á»i cÃ³ giÃ¡ tháº§u cao nháº¥t.</p><p>Trong trÆ°á»ng há»£p * Clos.e *, táº­p lá»‡nh pháº£i kiá»ƒm tra xem Ä‘Ã£ Ä‘áº¿n thá»i
háº¡n hay chÆ°a vÃ  ngÆ°á»i chiáº¿n tháº¯ng sáº½ nháº­n Ä‘Æ°á»£c NFT vÃ  ngÆ°á»i chá»§ Ä‘áº¥u giÃ¡
nháº­n Ä‘Æ°á»£c giÃ¡ tháº§u cao nháº¥t.</p><p>CÃ³ má»™t ká»‹ch báº£n ná»¯a Ä‘á»ƒ chÃºng ta xem xÃ©t, Ä‘Ã³ lÃ  khÃ´ng ai Ä‘Æ°a ra báº¥t ká»³
giÃ¡ tháº§u nÃ o.</p><p><img src="/assets/images/pic__00002-85f6ca4d7ffa6730c9ed357859925820.png"></p><p>Alice táº¡o phiÃªn Ä‘áº¥u giÃ¡, nhÆ°ng khÃ´ng nháº­n Ä‘Æ°á»£c giÃ¡ tháº§u nÃ o. Trong
trÆ°á»ng há»£p nÃ y, pháº£i cÃ³ má»™t cÆ¡ cháº¿ Ä‘á»ƒ Alice láº¥y láº¡i NFT cá»§a mÃ¬nh.</p><p>VÃ¬ váº­y, cÃ´ áº¥y táº¡o má»™t giao dá»‹ch vá»›i ngÆ°á»i mua láº¡i * Clos.e *, nhÆ°ng
hiá»‡n táº¡i vÃ¬ khÃ´ng cÃ³ ngÆ°á»i Ä‘áº·t giÃ¡ tháº§u, NFT khÃ´ng Ä‘áº¿n tay ngÆ°á»i tráº£ giÃ¡
cao nháº¥t mÃ  chá»‰ quay trá»Ÿ láº¡i Alice.</p><p>Logic trong trÆ°á»ng há»£p nÃ y hÆ¡i khÃ¡c má»™t chÃºt. NÃ³ sáº½ kiá»ƒm tra xem NFT cÃ³
quay trá»Ÿ láº¡i Alice hay khÃ´ng, tuy nhiÃªn, nÃ³ khÃ´ng thá»±c sá»± cáº§n kiá»ƒm tra
ngÆ°á»i nháº­n vÃ¬ giao dá»‹ch sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t bá»Ÿi Alice vÃ  cÃ´ áº¥y cÃ³ thá»ƒ gá»­i
NFT Ä‘áº¿n báº¥t cá»© nÆ¡i nÃ o cÃ´ áº¥y muá»‘n.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="on-chain-and-off-chain-code"></a>On-chain and Off-chain code<a class="hash-link" href="#on-chain-and-off-chain-code" title="Direct link to heading">#</a></h4><p>Äiá»u quan trá»ng cáº§n nháº­n ra vá» Plutus lÃ  cÃ³ mÃ£ trÃªn chuá»—i vÃ  mÃ£ ngoÃ i
chuá»—i.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="on-chain"></a>On-chain<a class="hash-link" href="#on-chain" title="Direct link to heading">#</a></h5><p>MÃ£ trÃªn chuá»—i lÃ  cÃ¡c táº­p lá»‡nh mÃ  chÃºng ta Ä‘Ã£ tháº£o luáº­n - cÃ¡c táº­p lá»‡nh tá»«
mÃ´ hÃ¬nh UTxO. NgoÃ i cÃ¡c Ä‘á»‹a chá»‰ khÃ³a cÃ´ng khai, chÃºng tÃ´i cÃ³ Ä‘á»‹a chá»‰ táº­p
lá»‡nh vÃ  káº¿t quáº£ Ä‘áº§u ra cÃ³ thá»ƒ á»Ÿ má»™t Ä‘á»‹a chá»‰ nhÆ° váº­y, vÃ  náº¿u má»™t giao
dá»‹ch cá»‘ gáº¯ng sá»­ dá»¥ng má»™t Ä‘áº§u ra nhÆ° váº­y, thÃ¬ táº­p lá»‡nh sáº½ Ä‘Æ°á»£c thá»±c thi
vÃ  giao dá»‹ch chá»‰ há»£p lá»‡ náº¿u táº­p lá»‡nh thÃ nh cÃ´ng.</p><p>Náº¿u má»™t nÃºt nháº­n Ä‘Æ°á»£c má»™t giao dá»‹ch má»›i, nÃ³ sáº½ xÃ¡c nháº­n nÃ³ trÆ°á»›c khi
cháº¥p nháº­n nÃ³ vÃ o mempool cá»§a nÃ³ vÃ  cuá»‘i cÃ¹ng thÃ nh má»™t khá»‘i. Äá»‘i vá»›i má»—i
Ä‘áº§u vÃ o cá»§a giao dá»‹ch, náº¿u Ä‘áº§u vÃ o Ä‘Ã³ tÃ¬nh cá» lÃ  má»™t Ä‘á»‹a chá»‰ táº­p lá»‡nh,
táº­p lá»‡nh tÆ°Æ¡ng á»©ng Ä‘Æ°á»£c thá»±c thi. Náº¿u táº­p lá»‡nh khÃ´ng thÃ nh cÃ´ng, giao
dá»‹ch khÃ´ng há»£p lá»‡.</p><p>NgÃ´n ngá»¯ láº­p trÃ¬nh mÃ  táº­p lá»‡nh nÃ y Ä‘Æ°á»£c thá»ƒ hiá»‡n Ä‘Æ°á»£c gá»i lÃ  Plutus
Core, nhÆ°ng báº¡n khÃ´ng bao giá» viáº¿t Plutus Core báº±ng tay. Thay vÃ o Ä‘Ã³,
báº¡n viáº¿t Haskell vÃ  nÃ³ Ä‘Æ°á»£c biÃªn dá»‹ch xuá»‘ng Plutus Core. LuÃ´n luÃ´n cÃ³
thá»ƒ cÃ³ cÃ¡c ngÃ´n ngá»¯ cáº¥p cao khÃ¡c nhÆ° Solidity, C hoáº·c Python cÃ³ thá»ƒ biÃªn
dá»‹ch xuá»‘ng Plutus Core.</p><p>Nhiá»‡m vá»¥ cá»§a má»™t táº­p lá»‡nh lÃ  nÃ³i cÃ³ hay khÃ´ng vá» viá»‡c liá»‡u má»™t giao dá»‹ch
cÃ³ thá»ƒ sá»­ dá»¥ng má»™t Ä‘áº§u ra hay khÃ´ng.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="off-chain"></a>Off-chain<a class="hash-link" href="#off-chain" title="Direct link to heading">#</a></h5><p>Äá»ƒ má»Ÿ khÃ³a UTxO, báº¡n pháº£i cÃ³ kháº£ nÄƒng xÃ¢y dá»±ng má»™t giao dá»‹ch sáº½ vÆ°á»£t qua
quÃ¡ trÃ¬nh xÃ¡c thá»±c vÃ  Ä‘Ã³ lÃ  trÃ¡ch nhiá»‡m cá»§a bá»™ pháº­n ngoÃ i chuá»—i cá»§a
Plutus. ÄÃ¢y lÃ  pháº§n cháº¡y trÃªn vÃ­ chá»© khÃ´ng pháº£i trÃªn blockchain vÃ  sáº½
xÃ¢y dá»±ng cÃ¡c giao dá»‹ch phÃ¹ há»£p.</p><p>Má»™t trong nhá»¯ng Ä‘iá»u thÃº vá»‹ vá» Plutus lÃ  cáº£ cÃ¡c bá»™ pháº­n trÃªn dÃ¢y chuyá»n
vÃ  cÃ¡c bá»™ pháº­n ngoÃ i dÃ¢y chuyá»n Ä‘á»u Ä‘Æ°á»£c viáº¿t báº±ng Haskell. Má»™t lá»£i tháº¿
rÃµ rÃ ng cá»§a Ä‘iá»u Ä‘Ã³ lÃ  báº¡n khÃ´ng pháº£i há»c hai ngÃ´n ngá»¯ láº­p trÃ¬nh. Æ¯u
Ä‘iá»ƒm khÃ¡c lÃ  báº¡n cÃ³ thá»ƒ chia sáº» mÃ£ giá»¯a cÃ¡c bá»™ pháº­n trong chuá»—i vÃ  ngoÃ i
chuá»—i.</p><p>á» pháº§n sau cá»§a khÃ³a há»c nÃ y, chÃºng ta sáº½ nÃ³i vá» cÃ¡c mÃ¡y tráº¡ng thÃ¡i vÃ 
sau Ä‘Ã³ sá»± chia sáº» nÃ y giá»¯a mÃ£ ná»™i bá»™ vÃ  mÃ£ ngoÃ i chuá»—i trá»Ÿ nÃªn trá»±c tiáº¿p
hÆ¡n, nhÆ°ng ngay cáº£ khi khÃ´ng cÃ³ mÃ¡y tráº¡ng thÃ¡i váº«n cÃ³ ráº¥t nhiá»u cÆ¡ há»™i
Ä‘á»ƒ chia sáº» mÃ£.</p><p>ChÃºng ta sáº½ cÃ³ má»™t cÃ¡i nhÃ¬n ngáº¯n gá»n vá» mÃ£ nhÆ°ng Ä‘á»«ng lo láº¯ng, báº¡n sáº½
khÃ´ng hiá»ƒu nÃ³ táº¡i thá»i Ä‘iá»ƒm nÃ y.</p><p>MÃ£ cho há»£p Ä‘á»“ng \&quot;English Auction\&quot; táº¡i</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/path/to/plutus-pioneer-program/repo/code/week01/src/Week01/EnglishAuction.hs</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>ChÃºng tÃ´i tháº¥y kiá»ƒu dá»¯ liá»‡u * Auction * Ä‘áº¡i diá»‡n cho cÃ¡c tham sá»‘ cho
há»£p Ä‘á»“ng mÃ  trong vÃ­ dá»¥ cá»§a chÃºng tÃ´i lÃ  Alice báº¯t Ä‘áº§u. CÃ¡c tham sá»‘ *
aCurrency * vÃ  * aToken * Ä‘áº¡i diá»‡n cho NFT.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">data Auction = Auction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   { aSeller   :: !PubKeyHash</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , aDeadline :: !POSIXTime</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , aMinBid   :: !Integer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , aCurrency :: !CurrencySymbol</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , aToken    :: !TokenName</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   } deriving (Show, Generic, ToJSON, FromJSON, ToSchema)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Báº¡n cÅ©ng tháº¥y cÃ¡c kiá»ƒu dá»¯ liá»‡u khÃ¡c, nhÆ°ng trá»ng tÃ¢m cá»§a mÃ£ lÃ  hÃ m *
mkAuctionValidator *. ÄÃ¢y lÃ  chá»©c nÄƒng xÃ¡c Ä‘á»‹nh xem má»™t giao dá»‹ch nháº¥t
Ä‘á»‹nh cÃ³ Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng UTxO táº¡i Ä‘á»‹a chá»‰ táº­p lá»‡nh nÃ y hay khÃ´ng.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{-# INLINABLE mkAuctionValidator #-}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">mkAuctionValidator :: AuctionDatum -&gt; AuctionAction -&gt; ScriptContext -&gt; Bool</span></div><div class="token-line" style="color:#393A34"><span class="token plain">mkAuctionValidator ad redeemer ctx =</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    traceIfFalse &quot;wrong input value&quot; correctInputValue &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    case redeemer of</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        MkBid b@Bid{..} -&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            traceIfFalse &quot;bid too low&quot; (sufficientBid bBid)                &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            traceIfFalse &quot;wrong output datum&quot; (correctBidOutputDatum b)    &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            traceIfFalse &quot;wrong output value&quot; (correctBidOutputValue bBid) &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            traceIfFalse &quot;wrong refund&quot;       correctBidRefund             &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            traceIfFalse &quot;too late&quot;           correctBidSlotRange</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Close           -&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            traceIfFalse &quot;too early&quot; correctCloseSlotRange &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            case adHighestBid ad of</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                Nothing      -&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    traceIfFalse &quot;expected seller to get token&quot; (getsValue (aSeller auction) tokenValue)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                Just Bid{..} -&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    traceIfFalse &quot;expected highest bidder to get token&quot; (getsValue bBidder tokenValue) &amp;&amp;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    traceIfFalse &quot;expected seller to get highest bid&quot; (getsValue (aSeller auction) $ Ada.lovelaceValueOf bBid)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  where</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>VÃ  Ä‘Ã¢y lÃ  nÆ¡i diá»…n ra quÃ¡ trÃ¬nh biÃªn dá»‹ch sang Plutus Core. NÃ³ sá»­ dá»¥ng
má»™t thá»© gá»i lÃ  Template Haskell Ä‘á»ƒ láº¥y chá»©c nÄƒng Haskell á»Ÿ trÃªn vÃ  biÃªn
dá»‹ch nÃ³ thÃ nh Plutus Core.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">auctionTypedValidator :: Scripts.TypedValidator Auctioning</span></div><div class="token-line" style="color:#393A34"><span class="token plain">auctionTypedValidator = Scripts.mkTypedValidator @Auctioning</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    $$(PlutusTx.compile [|| mkAuctionValidator ||])</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    $$(PlutusTx.compile [|| wrap ||])</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  where</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    wrap = Scripts.wrapValidator</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pháº§n off-chain cá»§a mÃ£ xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘iá»ƒm cuá»‘i cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i.</p><p>ChÃºng tÃ´i cÃ³ ba Ä‘iá»ƒm cuá»‘i cho vÃ­ dá»¥ nÃ y vÃ  má»—i Ä‘iá»ƒm cÃ³ má»™t kiá»ƒu dá»¯ liá»‡u
Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh Ä‘á»ƒ Ä‘áº¡i diá»‡n cho cÃ¡c tham sá»‘ cá»§a chÃºng.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">data StartParams = StartParams</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   { spDeadline :: !POSIXTime</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , spMinBid   :: !Integer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , spCurrency :: !CurrencySymbol</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , spToken    :: !TokenName</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   } deriving (Generic, ToJSON, FromJSON, ToSchema)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">data BidParams = BidParams</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   { bpCurrency :: !CurrencySymbol</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , bpToken    :: !TokenName</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , bpBid      :: !Integer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   } deriving (Generic, ToJSON, FromJSON, ToSchema)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">data CloseParams = CloseParams</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   { cpCurrency :: !CurrencySymbol</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   , cpToken    :: !TokenName</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   } deriving (Generic, ToJSON, FromJSON, ToSchema)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Sau Ä‘Ã³, cÃ¡c hoáº¡t Ä‘á»™ng off-chain Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh.</p><p>Äáº§u tiÃªn lÃ  logic * start *.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">start :: AsContractError e =&gt; StartParams -&gt; Contract w s e ()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">start StartParams{..} = do</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    pkh &lt;- pubKeyHash &lt;$&gt; ownPubKey</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    let a = Auction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                { aSeller   = pkh</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                , aDeadline = spDeadline</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                , aMinBid   = spMinBid</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                , aCurrency = spCurrency</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                , aToken    = spToken</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        d = AuctionDatum</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                { adAuction    = a</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                , adHighestBid = Nothing</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        v = Value.singleton spCurrency spToken 1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        tx = mustPayToTheScript d v</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ledgerTx &lt;- submitTxConstraints auctionTypedValidator tx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    void $ awaitTxConfirmed $ txId ledgerTx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    logInfo @String $ printf &quot;started auction %s for token %s&quot; (show a) (show v)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>sau Ä‘Ã³ lÃ  <em>bid</em>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">bid :: forall w s. BidParams -&gt; Contract w s Text ()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">bid BidParams{..} = do</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    (oref, o, d@AuctionDatum{..}) &lt;- findAuction bpCurrency bpToken</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    logInfo @String $ printf &quot;found auction utxo with datum %s&quot; (show d)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    when (bpBid &lt; minBid d) $</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        throwError $ pack $ printf &quot;bid lower than minimal bid %d&quot; (minBid d)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    pkh &lt;- pubKeyHash &lt;$&gt; ownPubKey</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    let b  = Bid {bBidder = pkh, bBid = bpBid}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        d&#x27; = d {adHighestBid = Just b}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        v  = Value.singleton bpCurrency bpToken 1 &lt;&gt; Ada.lovelaceValueOf bpBid</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        r  = Redeemer $ PlutusTx.toData $ MkBid b</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        lookups = Constraints.typedValidatorLookups auctionTypedValidator &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  Constraints.otherScript auctionValidator                &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  Constraints.unspentOutputs (Map.singleton oref o)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        tx      = case adHighestBid of</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    Nothing      -&gt; mustPayToTheScript d&#x27; v                            &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustValidateIn (to $ aDeadline adAuction)          &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustSpendScriptOutput oref r</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    Just Bid{..} -&gt; mustPayToTheScript d&#x27; v                            &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustPayToPubKey bBidder (Ada.lovelaceValueOf bBid) &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustValidateIn (to $ aDeadline adAuction)          &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustSpendScriptOutput oref r</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ledgerTx &lt;- submitTxConstraintsWith lookups tx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    void $ awaitTxConfirmed $ txId ledgerTx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    logInfo @String $ printf &quot;made bid of %d lovelace in auction %s for token (%s, %s)&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bpBid</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        (show adAuction)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        (show bpCurrency)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        (show bpToken)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>vÃ  cuá»‘i cÃ¹ng lÃ  <em>close</em> .</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">close :: forall w s. CloseParams -&gt; Contract w s Text ()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">close CloseParams{..} = do</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    (oref, o, d@AuctionDatum{..}) &lt;- findAuction cpCurrency cpToken</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    logInfo @String $ printf &quot;found auction utxo with datum %s&quot; (show d)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    let t      = Value.singleton cpCurrency cpToken 1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        r      = Redeemer $ PlutusTx.toData Close</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        seller = aSeller adAuction</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        lookups = Constraints.typedValidatorLookups auctionTypedValidator &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  Constraints.otherScript auctionValidator                &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  Constraints.unspentOutputs (Map.singleton oref o)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        tx      = case adHighestBid of</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    Nothing      -&gt; mustPayToPubKey seller t                          &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustValidateIn (from $ aDeadline adAuction)       &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustSpendScriptOutput oref r</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    Just Bid{..} -&gt; mustPayToPubKey bBidder t                         &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustPayToPubKey seller (Ada.lovelaceValueOf bBid) &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustValidateIn (from $ aDeadline adAuction)       &lt;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    mustSpendScriptOutput oref r</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ledgerTx &lt;- submitTxConstraintsWith lookups tx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    void $ awaitTxConfirmed $ txId ledgerTx</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    logInfo @String $ printf &quot;closed auction %s for token (%s, %s)&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        (show adAuction)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        (show cpCurrency)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        (show cpToken)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>CÃ³ má»™t mÃ£ Ä‘á»ƒ rÃ ng buá»™c má»i thá»© Ä‘Ã³.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">endpoints :: Contract () AuctionSchema Text ()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">endpoints = (start&#x27; `select` bid&#x27; `select` close&#x27;) &gt;&gt; endpoints</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  where</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    start&#x27; = endpoint @&quot;start&quot; &gt;&gt;= start</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    bid&#x27;   = endpoint @&quot;bid&quot;   &gt;&gt;= bid</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    close&#x27; = endpoint @&quot;close&quot; &gt;&gt;= close</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>VÃ  nhá»¯ng dÃ²ng cuá»‘i cÃ¹ng chá»‰ lÃ  nhá»¯ng ngÆ°á»i trá»£ giÃºp Ä‘á»ƒ táº¡o má»™t NFT máº«u
Ä‘á»ƒ cho phÃ©p chÃºng tÃ´i thá»­ Ä‘áº¥u giÃ¡ NFT nÃ y trong playground.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">mkSchemaDefinitions &#x27;&#x27;AuctionSchema</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">myToken :: KnownCurrency</span></div><div class="token-line" style="color:#393A34"><span class="token plain">myToken = KnownCurrency (ValidatorHash &quot;f&quot;) &quot;Token&quot; (TokenName &quot;T&quot; :| [])</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">mkKnownCurrencies [&#x27;myToken]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Má»™t vÃ­ dá»¥ vá» viá»‡c sá»­ dá»¥ng láº¡i mÃ£ lÃ  hÃ m * minBid *.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">minBid :: AuctionDatum -&gt; Integer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">minBid AuctionDatum{..} = case adHighestBid of</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Nothing      -&gt; aMinBid adAuction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Just Bid{..} -&gt; bBid + 1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Chá»©c nÄƒng nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng trong pháº§n on-chain Ä‘á»ƒ xÃ¡c thá»±c, nhÆ°ng cÅ©ng
trong mÃ£ off-chain, trong vÃ­, trÆ°á»›c khi nÃ³ lÃ m phiá»n Ä‘áº¿n viá»‡c táº¡o giao
dá»‹ch, Ä‘á»ƒ kiá»ƒm tra xem nÃ³ cÃ³ Ä‘Ã¡ng lÃ m nhÆ° váº­y hay khÃ´ng.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="to-the-playground"></a>To the Playground<a class="hash-link" href="#to-the-playground" title="Direct link to heading">#</a></h2><p>chÃºng ta sáº½ cháº¡y táº¡i Plutus Playground cá»§a tÃ´i.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="plutus-setup"></a>Plutus Setup<a class="hash-link" href="#plutus-setup" title="Direct link to heading">#</a></h3><p>TrÆ°á»›c khi biÃªn dá»‹ch mÃ£ há»£p Ä‘á»“ng máº«u, chÃºng ta cáº§n thiáº¿t láº­p Plutus. Báº¡n
nÃªn thiáº¿t láº­p má»™t trÃ¬nh bao Nix tá»« kho lÆ°u trá»¯ chÃ­nh cá»§a Plutus, táº¡i Ä‘Ã³
cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ biÃªn dá»‹ch cÃ¡c há»£p Ä‘á»“ng máº«u.</p><p><a href="https://www.evernote.com/shard/s426/client/snv?noteGuid=b34acc67-c94b-fc64-9350-398a8f6fc6ec&amp;noteKey=7e6b84c9501e9949eef2cadf6e35eaff&amp;sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs426%2Fsh%2Fb34acc67-c94b-fc64-9350-398a8f6fc6ec%2F7e6b84c9501e9949eef2cadf6e35eaff&amp;title=Installation" target="_blank" rel="noopener noreferrer">chi tiáº¿t lÃ m nhÆ° tháº¿ nÃ o á»Ÿ Ä‘Ã¢y
here</a>.</p><p>Äiá»u nÃ y sáº½ thiáº¿t láº­p mÃ´i trÆ°á»ng cá»§a báº¡n vá»›i cÃ¡c phá»¥ thuá»™c cáº§n thiáº¿t Ä‘á»ƒ
biÃªn dá»‹ch cÃ¡c há»£p Ä‘á»“ng máº«u.</p><p>Khi báº¡n Ä‘Ã£ á»Ÿ bÃªn trong Nix shell, báº¡n cÃ³ thá»ƒ khá»Ÿi Ä‘á»™ng mÃ¡y khÃ¡ch vÃ  mÃ¡y
chá»§ Plutus tá»« kho lÆ°u trá»¯ Plutus nhÃ¢n báº£n.</p><p>CÃ¡c video bÃ i giáº£ng Ä‘Æ°á»£c ghi láº¡i vÃ o nhiá»u thá»i Ä‘iá»ƒm khÃ¡c nhau vÃ  mÃ£
Plutus cÃ¹ng vá»›i chÃºng Ä‘Æ°á»£c biÃªn soáº¡n dá»±a trÃªn cÃ¡c cam káº¿t cá»¥ thá»ƒ cá»§a
nhÃ¡nh chÃ­nh cá»§a Plutus. Báº¡n cÃ³ thá»ƒ tÃ¬m tháº¥y tháº» cam káº¿t trong tá»‡p
cabal.project.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="server"></a>Server<a class="hash-link" href="#server" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.bash}"><div tabindex="0" class="prism-code language-{.bash} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">cd /path/to/plutus/repo/plutus-playground-client</span></div><div class="token-line" style="color:#393A34"><span class="token plain">plutus-playground-server</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="client"></a>Client<a class="hash-link" href="#client" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.bash}"><div tabindex="0" class="prism-code language-{.bash} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">cd /path/to/plutus/repo/plutus-playground-client</span></div><div class="token-line" style="color:#393A34"><span class="token plain">npm run start</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To check that everything is in order, you can then compile the code for
Week 01. This is not necessary to run the code in the playground, as the
playground can compile the code itself.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.bash}"><div tabindex="0" class="prism-code language-{.bash} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">cd /path/to/plutus-pioneer-program/repo/code/week01</span></div><div class="token-line" style="color:#393A34"><span class="token plain">cabal build all</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Náº¿u má»i thá»© suÃ´n sáº» trong thiáº¿t láº­p á»Ÿ trÃªn, báº¡n sáº½ cÃ³ thá»ƒ má»Ÿ sÃ¢n chÆ¡i
táº¡i https: // localhost: 8009. Báº¡n cÃ³ thá»ƒ sáº½ nháº­n Ä‘Æ°á»£c lá»—i chá»©ng chá»‰,
lá»—i nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c bá» qua.</p><p><img src="/assets/images/plutus_playground-463b02031d0dc8cbdd8fcb78084a4ccb.png"></p><p>Sao chÃ©p vÃ  dÃ¡n ná»™i dung tá»‡p EnglishAuction.sh vÃ o playground, thay tháº¿
há»£p Ä‘á»“ng demo hiá»‡n cÃ³.</p><p><img src="/assets/images/playground_2-a145cda508e93271a1ea02bf01e43422.png"></p><p>Nháº¥p vÃ o nÃºt biÃªn dá»‹ch. Khi nÃ³ Ä‘Ã£ Ä‘Æ°á»£c biÃªn dá»‹ch, hÃ£y nháº¥p vÃ o nÃºt
Simulate.</p><p><img src="/assets/images/playground_3-0bb135e2ecb9c3ad25023976b16a4a2c.png"></p><p>CÃ¡c vÃ­ máº·c Ä‘á»‹nh Ä‘Æ°á»£c thiáº¿t láº­p vá»›i 10 Lovelace vÃ  10 T, trong Ä‘Ã³ T lÃ  mÃ£
thÃ´ng bÃ¡o gá»‘c Ä‘Æ°á»£c mÃ´ phá»ng bá»Ÿi táº­p lá»‡nh trong cÃ¡c dÃ²ng sau:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">myToken :: KnownCurrency</span></div><div class="token-line" style="color:#393A34"><span class="token plain">myToken = KnownCurrency (ValidatorHash &quot;f&quot;) &quot;Token&quot; (TokenName &quot;T&quot; :| [])</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">mkKnownCurrencies [&#x27;myToken]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>ChÃºng tÃ´i sáº½ coi mÃ£ thÃ´ng bÃ¡o T lÃ  mÃ£ thÃ´ng bÃ¡o khÃ´ng thá»ƒ thay tháº¿ (NFT)
vÃ  mÃ´ phá»ng Ä‘iá»u nÃ y báº±ng cÃ¡ch thay Ä‘á»•i cÃ¡c vÃ­ sao cho VÃ­ 1 cÃ³ 1 T vÃ 
cÃ¡c vÃ­ khÃ¡c cÃ³ 0 T.</p><p>NgoÃ i ra, 10 lovelace tháº¥p Ä‘áº¿n má»©c ná»±c cÆ°á»i, vÃ¬ váº­y hÃ£y cho má»—i vÃ­ 1000
Ada, tá»©c lÃ  1.000.000.000 lovelace.</p><p>Nháº¥p vÃ o tÃ¹y chá»n \&quot;ThÃªm VÃ­\&quot;, sau Ä‘Ã³ Ä‘iá»u chá»‰nh sá»‘ dÆ° cho phÃ¹ há»£p:</p><p><img src="/assets/images/pic__00005-9c73ae8197fe6ce9beeecafdd45dd0fd.png"></p><p>Báº¡n cÃ³ thá»ƒ tháº¥y trong sÃ¢n chÆ¡i ráº±ng há»£p Ä‘á»“ng cÃ³ ba endpoin.ts: star.t,
bi.d vÃ  close.</p><p>Theo máº·c Ä‘á»‹nh, Ä‘iá»ƒm cuá»‘i \&quot;Pay to Wallet\&quot; luÃ´n á»Ÿ Ä‘Ã³ trong sÃ¢n chÆ¡i. NÃ³
cho phÃ©p chuyá»ƒn Lovelace tá»« vÃ­ nÃ y sang vÃ­ khÃ¡c má»™t cÃ¡ch Ä‘Æ¡n giáº£n.</p><p>Nháº¥p vÃ o \&quot;báº¯t Ä‘áº§u\&quot; trÃªn vÃ­ 1, Ä‘á»ƒ táº¡o phiÃªn Ä‘áº¥u giÃ¡:</p><p>ÄÃ¢y lÃ  nÆ¡i ngÆ°á»i bÃ¡n sáº½ Ä‘áº·t ra cÃ¡c quy táº¯c cho cuá»™c Ä‘áº¥u giÃ¡.</p><p>TrÆ°á»ng getSlot chá»‰ Ä‘á»‹nh thá»i háº¡n cho cuá»™c Ä‘áº¥u giÃ¡. Há»£p Ä‘á»“ng khÃ´ng cho
phÃ©p Ä‘áº¥u tháº§u sau thá»i háº¡n nÃ y.</p><p>Giáº£ sá»­ ráº±ng thá»i háº¡n lÃ  Ã” sá»‘ 10.</p><p>Thá»i gian Ä‘Æ°á»£c Ä‘o báº±ng thá»i gian POSIX (giÃ¢y ká»ƒ tá»« ngÃ y 1 thÃ¡ng 1 nÄƒm
1970), vÃ¬ váº­y chÃºng ta cáº§n tÃ­nh giÃ¡ trá»‹ nÃ y. May máº¯n thay, trong gÃ³i *
plutus-ledger * trong mÃ´-Ä‘un * Ledger.Timeslot <em>, cÃ³ má»™t hÃ m</em>
slotToPOSIXTime *. Náº¿u chÃºng tÃ´i nháº­p cÃ¡i nÃ y vÃ o REPL, chÃºng tÃ´i cÃ³
thá»ƒ nháº­n Ä‘Æ°á»£c giÃ¡ trá»‹ mÃ  chÃºng tÃ´i cáº§n. MÃ´ phá»ng báº¯t Ä‘áº§u vÃ o Ä‘áº§u ká»·
nguyÃªn Shelley, vÃ¬ váº­y giÃ¡ trá»‹ nÃ y - 1596059101 - pháº£n Ã¡nh Ä‘iá»u Ä‘Ã³ vÃ 
giÃ¡ trá»‹ nÃ y sáº½ lÃ  vÃ o ngÃ y 29 thÃ¡ng 7 nÄƒm 2020 - vá»‹ trÃ­ thá»© 10 cá»§a ká»·
nguyÃªn Shelley.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI {.haskell}"><div tabindex="0" class="prism-code language-{.haskell} codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Prelude Week01.EnglishAuction&gt; import Ledger.TimeSlot</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Prelude Ledger.TimeSlot Week01.EnglishAuction&gt; slotToPOSIXTime 10</span></div><div class="token-line" style="color:#393A34"><span class="token plain">POSIXTime {getPOSIXTime = 1596059101}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>ThÃªm giÃ¡ trá»‹ nÃ y vÃ o trÆ°á»ng thá»i háº¡n.</p><p>SpMinField chá»‰ Ä‘á»‹nh sá»‘ lÆ°á»£ng ADA tá»‘i thiá»ƒu pháº£i Ä‘Æ°á»£c Ä‘áº·t giÃ¡ tháº§u. Náº¿u
khÃ´ng Ä‘áº¡t má»©c tá»‘i thiá»ƒu nÃ y trÆ°á»›c thá»i háº¡n, sáº½ khÃ´ng cÃ³ cuá»™c Ä‘áº¥u tháº§u
nÃ o thÃ nh cÃ´ng. HÃ£y thá»±c hiá»‡n 100 Ada nÃ y.</p><p>Nháº­p 100000000 vÃ o trÆ°á»ng spMinBid.</p><p>Hai trÆ°á»ng cuá»‘i cÃ¹ng - spCurrencySymbol vÃ  unTokenName chá»‰ Ä‘á»‹nh Ä‘Æ¡n vá»‹
tiá»n tá»‡ cá»§a NFT lÃ  chá»§ Ä‘á» cá»§a phiÃªn Ä‘áº¥u giÃ¡. Trong Plutus, mÃ£ thÃ´ng bÃ¡o
gá»‘c Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng kÃ½ hiá»‡u tiá»n tá»‡ vÃ  tÃªn.</p><p>Trong trÆ°á»ng há»£p nÃ y, kÃ½ hiá»‡u lÃ  66 vÃ  tÃªn mÃ£ thÃ´ng bÃ¡o, nhÆ° chÃºng ta Ä‘Ã£
tháº¥y lÃ  T.</p><p>Nháº­p cÃ¡c giÃ¡ trá»‹ nÃ y vÃ o cÃ¡c trÆ°á»ng tÆ°Æ¡ng á»©ng cá»§a chÃºng.</p><p><img src="/assets/images/pic__00006-62d6fce7b8e2a51d0e4e2b6b545fc9af.png"></p><p>ChÃºng tÃ´i cÅ©ng cÃ³ thá»ƒ chÃ¨n cÃ¡c hÃ nh Ä‘á»™ng \&quot;Ä‘á»£i\&quot;, Ä‘á»ƒ Ä‘á»£i má»™t sá»‘ khe cáº¯m.
ChÃºng tÃ´i sáº½ cáº§n Ä‘á»£i Ã­t nháº¥t má»™t thá»i Ä‘iá»ƒm Ä‘á»ƒ giao dá»‹ch báº¯t Ä‘áº§u phiÃªn
Ä‘áº¥u giÃ¡ hoÃ n táº¥t.</p><p><img src="/assets/images/pic__00007-feebf95ef1cb61df2a957ee3bddf6e40.png"></p><p>BÃ¢y giá» Ä‘áº¥u tháº§u cÃ³ thá»ƒ báº¯t Ä‘áº§u.</p><p>Giáº£ sá»­ ráº±ng VÃ­ 2 vÃ  3 muá»‘n Ä‘áº·t giÃ¡ tháº§u cho mÃ£ thÃ´ng bÃ¡o nÃ y.</p><p>VÃ­ 2 nhanh hÆ¡n vÃ  Ä‘áº·t giÃ¡ tháº§u 100 Ada báº±ng cÃ¡ch gá»i endpoin.t giÃ¡ tháº§u
vá»›i cÃ¡c thÃ´ng sá»‘ nhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ bÃªn dÆ°á»›i.</p><p><img src="/assets/images/pic__00008-2081ddcb25151e9bd63557898625f3e1.png"></p><p>BÃ¢y giá» chÃºng tÃ´i chÃ¨n má»™t hÃ nh Ä‘á»™ng chá» khÃ¡c vÃ  bÃ¢y giá» chÃºng tÃ´i thÃªm
má»™t giÃ¡ tháº§u cá»§a Charlie (Wallet 3) cho 200 Ada.</p><p><img src="/assets/images/pic__00009-6a92a062fa92eac7a502dd1f79f1f78f.png"></p><p>Giáº£ sá»­ ráº±ng hai giÃ¡ tháº§u nÃ y lÃ  giÃ¡ tháº§u duy nháº¥t.</p><p>BÃ¢y giá» chÃºng tÃ´i thÃªm má»™t hÃ nh Ä‘á»™ng chá» Ä‘á»£i cho Ä‘áº¿n thá»i Ä‘iá»ƒm 11, Ä‘Ã³ lÃ 
thá»i Ä‘iá»ƒm sau thá»i háº¡n cá»§a phiÃªn Ä‘áº¥u giÃ¡.</p><p><img src="/assets/images/pic__00010-86ac7d37c76a594b6967b6f7648e5335.png"></p><p>Táº¡i thá»i Ä‘iá»ƒm nÃ y, báº¥t ká»³ ai cÅ©ng cÃ³ thá»ƒ gá»i Ä‘iá»ƒm cuá»‘i * close *.
PhiÃªn Ä‘áº¥u giÃ¡ sáº½ khÃ´ng tá»± giáº£i quyáº¿t, nÃ³ cáº§n Ä‘Æ°á»£c kÃ­ch hoáº¡t bá»Ÿi má»™t Ä‘iá»ƒm
cuá»‘i.</p><p>Khi Ä‘iá»ƒm cuá»‘i * Ä‘Ã³ng * Ä‘Æ°á»£c kÃ­ch hoáº¡t, cuá»™c Ä‘áº¥u giÃ¡ sáº½ Ä‘Æ°á»£c giáº£i quyáº¿t
theo cÃ¡c quy táº¯c.</p><ul><li><p>Náº¿u cÃ³ Ã­t nháº¥t má»™t giÃ¡ tháº§u, ngÆ°á»i tráº£ giÃ¡ cao nháº¥t sáº½ nháº­n Ä‘Æ°á»£c</p><p>:   mÃ£ thÃ´ng bÃ¡o. ÄÃ¢y sáº½ luÃ´n lÃ  ngÆ°á»i tráº£ giÃ¡ cuá»‘i cÃ¹ng vÃ¬ ká»‹ch báº£n
sáº½ khÃ´ng cho phÃ©p giÃ¡ tháº§u khÃ´ng cao hÆ¡n giÃ¡ tháº§u cao nháº¥t hiá»‡n
cÃ³ hoáº·c giÃ¡ tháº§u tháº¥p hÆ¡n má»©c giÃ¡ tháº§u tá»‘i thiá»ƒu.</p></li><li><p>Náº¿u khÃ´ng cÃ³ ngÆ°á»i Ä‘áº·t giÃ¡ tháº§u, VÃ­ 1 sáº½ láº¥y láº¡i mÃ£ thÃ´ng bÃ¡o.</p></li></ul><p>Giáº£ sá»­ Alice (VÃ­ 1) gá»i Ä‘iá»ƒm cuá»‘i * close *. ChÃºng tÃ´i sáº½ thÃªm hÃ nh
Ä‘á»™ng nÃ y vÃ  cÅ©ng thÃªm má»™t hÃ nh Ä‘á»™ng chá» khÃ¡c mÃ  chÃºng tÃ´i cáº§n á»Ÿ cuá»‘i Ä‘á»ƒ
xem giao dá»‹ch cuá»‘i cÃ¹ng khi chÃºng tÃ´i cháº¡y mÃ´ phá»ng.</p><p><img src="/assets/images/pic__00011-62f5e3966b4fd6206214c7da1ee5118d.png"></p><p>BÃ¢y giá», hÃ£y nháº¥p vÃ o nÃºt \&quot;ÄÃ¡nh giÃ¡\&quot; - nÃºt á»Ÿ cuá»‘i hoáº·c nÃºt á»Ÿ Ä‘áº§u
trang.</p><p>Sau má»™t lÃºc, báº¡n sáº½ tháº¥y cháº¿ Ä‘á»™ xem giáº£ láº­p.</p><p>á» Ä‘áº§u trang, báº¡n sáº½ tháº¥y cÃ¡c vá»‹ trÃ­ cÃ³ liÃªn quan Ä‘áº¿n mÃ´ phá»ng, tá»©c lÃ 
cÃ¡c vá»‹ trÃ­ Ä‘Ã£ xáº£y ra má»™t hÃ nh Ä‘á»™ng. á» Ä‘Ã¢y chÃºng ta tháº¥y ráº±ng Ä‘Ã¢y lÃ  cÃ¡c
khe 1,2,3,4 vÃ  20.</p><p>Vá»‹ trÃ­ sá»‘ 0 khÃ´ng pháº£i do há»£p Ä‘á»“ng cá»§a chÃºng tÃ´i gÃ¢y ra, Ä‘Ã³ lÃ  giao dá»‹ch
Genesis thiáº¿t láº­p sá»‘ dÆ° ban Ä‘áº§u cá»§a vÃ­. CÃ³ ba Ä‘áº§u ra cho giao dá»‹ch nÃ y.</p><p><img src="/assets/images/pic__00012-2faa3b9a120f701401f945d0833016b0.png"></p><p>BÃ¢y giá» hÃ£y nháº¥p vÃ o giao dá»‹ch Slot 1.</p><p>Giao dá»‹ch cÃ³ má»™t Ä‘áº§u vÃ o vÃ  ba Ä‘áº§u ra. Äáº§u vÃ o lÃ  chá»‰ UTxO mÃ  Wallet 1
cÃ³. Máº·c dÃ¹ Ä‘Ã³ lÃ  hai mÃ£ thÃ´ng bÃ¡o, 1000 Ada vÃ  1T, chÃºng náº±m trong má»™t
UTxO. NhÆ° Ä‘Ã£ Ä‘á» cáº­p trÆ°á»›c Ä‘Ã³, UTxO luÃ´n cáº§n Ä‘Æ°á»£c sá»­ dá»¥ng toÃ n bá»™, vÃ¬ váº­y
toÃ n bá»™ UTxO Ä‘Æ°á»£c gá»­i dÆ°á»›i dáº¡ng Ä‘áº§u vÃ o.</p><p>Káº¿t quáº£ Ä‘áº§u ra lÃ  phÃ­ 10 lovelace (Ä‘Ã¢y lÃ  phÃ­ demo vÃ  khÃ´ng pháº£n Ã¡nh má»©c
phÃ­ thá»±c sáº½ lÃ  bao nhiÃªu), 999.999.990 lovelace trá»Ÿ láº¡i VÃ­ 1 vÃ  1 T cho
há»£p Ä‘á»“ng Ä‘á»ƒ giá»¯ trong khi Ä‘áº¥u tháº§u diá»…n ra. á» Ä‘Ã¢y báº¡n cÅ©ng tháº¥y Ä‘á»‹a chá»‰
táº­p lá»‡nh.</p><p>NhÆ° chÃºng ta Ä‘Ã£ biáº¿t tá»« pháº§n giá»›i thiá»‡u vá» mÃ´ hÃ¬nh UTxO, cÅ©ng cÃ³ thá»ƒ cÃ³
má»™t má»©c dá»¯ liá»‡u vÃ  cÃ³ má»™t má»©c dá»¯ liá»‡u, nhÆ°ng Ä‘iá»u nÃ y khÃ´ng hiá»ƒn thá»‹
trong mÃ n hÃ¬nh nÃ y.</p><p><img src="/assets/images/pic__00013-0af4c23e553088f13197dc00a9577633.png"></p><p>VÃ¬ váº­y, bÃ¢y giá» cuá»™c Ä‘áº¥u giÃ¡ Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p, hÃ£y xem giao dá»‹ch tiáº¿p
theo, nÆ¡i Bob (Wallet 2) Ä‘áº·t giÃ¡ tháº§u lÃ  100 Ada.</p><p>CÃ³ hai Ä‘áº§u vÃ o - táº­p lá»‡nh UTxO vÃ  UTxO mÃ  Bob sá»Ÿ há»¯u.</p><p>NgoÃ i ra cÃ²n cÃ³ ba Ä‘áº§u ra. Äáº§u tiÃªn lÃ  khoáº£n phÃ­ 14,129 lovelace. Äiá»u
thá»© hai mang láº¡i cho Bob tiá»n thay Ä‘á»•i cá»§a anh áº¥y - sá»‘ tiá»n ban Ä‘áº§u cá»§a
anh áº¥y trá»« Ä‘i cÃ¡c khoáº£n phÃ­ vÃ  giÃ¡ tháº§u. Äáº§u ra thá»© ba khÃ³a giÃ¡ tháº§u vÃ o
há»£p Ä‘á»“ng.</p><p>TrÃ¬nh xÃ¡c thá»±c táº­p lá»‡nh á»Ÿ Ä‘Ã¢y pháº£i Ä‘áº£m báº£o ráº±ng Wallet 2 khÃ´ng thá»ƒ chá»‰
láº¥y mÃ£ thÃ´ng bÃ¡o, vÃ¬ váº­y nÃ³ sáº½ chá»‰ xÃ¡c thá»±c trong trÆ°á»ng há»£p cÃ³ Ä‘áº§u ra
mÃ  mÃ£ thÃ´ng bÃ¡o káº¿t thÃºc trong há»£p Ä‘á»“ng má»™t láº§n ná»¯a. HÃ£y nhá»› ráº±ng trong
mÃ´ hÃ¬nh (E) UTxO, táº¥t cáº£ cÃ¡c Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra Ä‘á»u hiá»ƒn thá»‹ vá»›i táº­p
lá»‡nh.</p><p><img src="/assets/images/pic__00014-bb5ac9073a2e6a3ccce2a47a08da4293.png"></p><p>BÃ¢y giá» chÃºng ta hÃ£y xem xÃ©t giao dá»‹ch tiáº¿p theo. ÄÃ¢y lÃ  nÆ¡i Charlie Ä‘áº·t
giÃ¡ tháº§u 200 Ada Lovelace (trong video cá»§a Lars lÃ  5 Lovelace, nhÆ°ng tÃ´i
Ä‘Ã£ nháº­p nÃ³ lÃ  4 vÃ  tÃ´i khÃ´ng muá»‘n chá»¥p láº¡i táº¥t cáº£ cÃ¡c áº£nh chá»¥p mÃ n hÃ¬nh
Ä‘Ã³).</p><p>CÃ¡c Ä‘áº§u vÃ o á»Ÿ Ä‘Ã¢y lÃ  UTxO cá»§a Wallet 3 vÃ  Ä‘á»‹a chá»‰ táº­p lá»‡nh.</p><p>Káº¿t quáº£ Ä‘áº§u ra lÃ  sá»± thay Ä‘á»•i cá»§a 6 Lovelace thÃ nh VÃ­ 3, táº­p lá»‡nh Ä‘Æ°á»£c
cáº­p nháº­t vá»›i giÃ¡ tháº§u cao má»›i cá»§a 4 Lovelace vÃ  viá»‡c tráº£ láº¡i giÃ¡ tháº§u 3
Lovelace cá»§a Wallet 2 cho Ä‘á»‹a chá»‰ cá»§a Wallet 2.</p><p>Má»™t láº§n ná»¯a, logic trong táº­p lá»‡nh pháº£i Ä‘áº£m báº£o ráº±ng táº¥t cáº£ nhá»¯ng Ä‘iá»u
nÃ y Ä‘Æ°á»£c xá»­ lÃ½ chÃ­nh xÃ¡c, tá»©c lÃ  giÃ¡ tháº§u má»›i cao hÆ¡n giÃ¡ tháº§u trÆ°á»›c Ä‘Ã³
vÃ  mÃ£ thÃ´ng bÃ¡o T tiáº¿p tá»¥c bá»‹ khÃ³a trong há»£p Ä‘á»“ng cÃ¹ng vá»›i giÃ¡ tháº§u má»›i.</p><p><img src="/assets/images/pic__00015-324c36951b1ee5ebaac21cb5b38eaf13.png"></p><p>Giao dá»‹ch cuá»‘i cÃ¹ng lÃ  hÃ nh Ä‘á»™ng * Ä‘Ã³ng *. Hai Ä‘áº§u vÃ o nÃ y - má»™t tá»«
Alice Ä‘á»ƒ tráº£ phÃ­ vÃ  Ä‘áº§u vÃ o thá»© hai lÃ  táº­p lá»‡nh UTxO lÃ m Ä‘áº§u vÃ o. CÃ³ bá»‘n
káº¿t quáº£ Ä‘áº§u ra - phÃ­ tá»« Alice vÃ  sá»± thay Ä‘á»•i trá»Ÿ láº¡i Alice, sau Ä‘Ã³ lÃ 
giÃ¡ tháº§u thÃ nh cÃ´ng 200 Ada cho Alice vÃ  chuyá»ƒn NFT cho Charlie.</p><p><img src="/assets/images/pic__00016-5ba55cb444dbc0bc10d8bc1dd3644063.png"></p><p>Náº¿u chÃºng ta cuá»™n xuá»‘ng, bÃ¢y giá» chÃºng ta cÃ³ thá»ƒ tháº¥y sá»‘ dÆ° cuá»‘i cÃ¹ng.</p><p><img src="/assets/images/pic__00017-c21e7092d4064db3e093ede2593c3e4b.png"></p><p>HÃ£y kiá»ƒm tra xem Ä‘iá»u gÃ¬ sáº½ xáº£y ra khi cÃ³ sá»± cá»‘ xáº£y ra, cháº³ng háº¡n nhÆ°
náº¿u Charlie Ä‘Æ°a ra giÃ¡ tháº§u tháº¥p hÆ¡n giÃ¡ tháº§u cá»§a Bob. Giáº£ sá»­ Charlie
máº¯c lá»—i vÃ  chá»‰ tráº£ giÃ¡ 20 Ada.</p><p>BÃ¢y giá» chÃºng tÃ´i tháº¥y ráº±ng chÃºng tÃ´i chá»‰ cÃ³ bá»‘n giao dá»‹ch vÃ  Bob tháº¯ng
cuá»™c Ä‘áº¥u giÃ¡.</p><p><img src="/assets/images/pic__00018-eedffe9b0443fab3446deae940e9236c.png"></p><p>HÃ£y xem Ä‘iá»u gÃ¬ sáº½ xáº£y ra náº¿u khÃ´ng cÃ³ giÃ¡ tháº§u há»£p lá»‡.</p><p><img src="/assets/images/pic__00019-2c6be1b831cc3f25a9f7b1639c47ac1c.png"></p><p>BÃ¢y giá» chá»‰ cÃ³ ba giao dá»‹ch, giao dá»‹ch cuá»‘i cÃ¹ng lÃ  giao dá»‹ch Ä‘Ã³ng. VÃ¬
Ä‘Ã¢y lÃ  má»™t cuá»™c Ä‘áº¥u giÃ¡ tháº¥t báº¡i, khÃ´ng cÃ³ giÃ¡ tháº§u thÃ nh cÃ´ng, giao
dá»‹ch nÃ y tráº£ láº¡i NFT cho VÃ­ 1.</p><p><img src="/assets/images/pic__00020-38ab1126106b1c2ef554269502f8fec0.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/cardano2vn/cardanovn-portal/edit/main/docs/dr-lars-lession/week1.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dr-lars-lession/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Plutus Pioneer Program</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dr-lars-lession/week2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Week 02 - Validation Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#welcome" class="table-of-contents__link">Welcome</a></li><li><a href="#the-eutxo-model" class="table-of-contents__link">The (E)UTxO Model</a><ul><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#script-context" class="table-of-contents__link">Script Context</a></li><li><a href="#the-english-auction-contract" class="table-of-contents__link">The English Auction contract</a></li></ul></li><li><a href="#to-the-playground" class="table-of-contents__link">To the Playground</a><ul><li><a href="#plutus-setup" class="table-of-contents__link">Plutus Setup</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">TÃ i liá»‡u</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/overview">Báº¯t Ä‘áº§u</a></li></ul></div><div class="col footer__col"><div class="footer__title">Cá»™ng Ä‘á»“ng</div><ul class="footer__items"><li class="footer__item"><a href="https://t.me/cardano2vn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCJTdAQPGJntJet5v-nk9ebA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/cardano2vn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/about-us">About Us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">The content of this site is referenced and copied from the <a href="https://developers.cardano.org/" target="_blank" rel="noopener noreferrer">Cardano Developer</a>, 2022</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1a53d0b2.js"></script>
<script src="/assets/js/main.5303ff7a.js"></script>
</body>
</html>